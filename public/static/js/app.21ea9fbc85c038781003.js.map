{"version":3,"sources":["webpack:///./src/App.vue?6c85","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/HelloWorld.vue?9f66","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/graphCanvas/utils/ElementStore.js","webpack:///./src/components/graphCanvas/RoleController.js","webpack:///./src/components/graphCanvas/utils/setting.js","webpack:///./src/components/graphCanvas/utils/EventHandler.js","webpack:///./src/components/graphCanvas/utils/Util.js","webpack:///./src/components/graphCanvas/elements/CircleElement.js","webpack:///./src/components/graphCanvas/elements/RectElement.js","webpack:///./src/components/graphCanvas/elements/LineElement.js","webpack:///./src/components/graphCanvas/elements/BezierLineElement.js","webpack:///./src/components/graphCanvas/utils/ElementCreator.js","webpack:///./src/components/graphCanvas/utils/ProcessData.js","webpack:///src/components/graphCanvas/graph.vue","webpack:///./src/components/graphCanvas/graph.vue?aa2d","webpack:///./src/components/graphCanvas/graph.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","components_HelloWorld","_vm","staticClass","_v","_s","msg","_m","href","target","HelloWorld_normalizeComponent","data","ElementStore","RoleController","ctx","_this","canvas","prototype","pen","getContext","main_loop","clearRect","l","elements","length","living","draw","requestAnimationFrame","currentX","currentY","onDrag","x","y","eventType","translateX","translateY","shouldTransPen","translate","backToStart","resetData","circleDatas","info","oldNodeId","addCircles","datas","concat","saveLines","lines","_ElementStore$prototy","splice","apply","toConsumableArray_default","saveElement","ele","push","getElements","type","eles","eleType","parseInt","Math","random","old_x","old_y","Setting","defaultBorder","defaultBorderColor","RectBgColor","RectWidth","RectHeight","CircleBgColor","CircleRadius","CircleHoverBgColor","CircleSelectColor","CircleTextColor","CircleTextHoverColor","CircleTextSelectColor","CircleTextFont","CircleTextSelectFont","lineWidth","LineColor","lineSelectWidth","lineSelectColor","lineHoverColor","lineLabelWidth","lineLabelHeight","lineLabelBg","lineTextMaxLength","lineLabelText","lineLabelTextFont","lineLabelTextSelectFont","hoverElementId","SelectElementId","bevel","bevelAngle","PI","setting","EventHandler","activeEle","startDragEvent","startTime","clientList","listen","key","fn","trigger","Array","shift","call","arguments","fns","handleClick","event","caculate","alert","handleMouseDown","isActive","Date","getTime","onDoubleClick","offsetX","offsetY","handleMouseUp","onClick","handleMouseMove","update","showDetails","Util","CircleElement","RectElement","LineElement","BezierLineElement","changeTragetElement","distanceX","abs","distanceY","distance","hypot_default","SinT","CosT","livingCycle","linkNum","beginPoint","endPoint","sqrt","beginPath","strokeStyle","arc","fillStyle","fill","stroke","text","font","textAlign","textBaseline","fillText","closePath","vx","vy","addChildren","ElementCreator","addElements","isDoubleClick","timer","setTimeout","clearTimeout","width","height","rect","bg","radius","moveTo","lineTo","rotate","xa","xb","ya","yb","x1","y1","x2","y2","vertexX","vertexY","asin","sin","cos","rectWidth","rectHeight","rectOriginX","rectOriginY","rectbevel","rectInnerAngle","save","maxLength","rel","replace","substring","restore","x0","y0","x1x2","x0x1","x0x2","perimeterHalf","lineDistance","midX","midY","hypotSide","sinT","cosT","middlePoint","finalY","finalX","quadraticCurveTo","rotateText","x3","y3","CurveVertexX","CurveVertexY","parameterT","pow","eleTypes","circle","line","BezierLine","addElement","addLines","ProcessData","nodes","circles","c","ceil","assign_default","lastdata","rects","relations","getLineType","beginPointIndex","getTargetPoint","startNode","endPointIndex","endNode","utils_ProcessData","graph","src","relationships","form","currentCircle","roleCtrl","canvas_container","canvas_parent","methods","getNewDatas","newDatas","d","isNew","addCircleEles","addCircleDatas","getCircleDatas","getLineDatas","initHandlerListener","showProperties","style","display","undefined","position","left","top","innerText","initCanvas","_this2","$nextTick","offsetWidth","offsetHeight","document","oncontextmenu","Function","onselectstart","window","addEventListener","mounted","querySelector","$refs","created","graphCanvas_graph","ref","on","click","components_graphCanvas_graph","graph_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.21ea9fbc85c038781003.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8dcc6196\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8dcc6196\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8dcc6196\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-694cd902\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-694cd902\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-694cd902\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-694cd902\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","export function ElementStore() {}\r\nElementStore.prototype = {\r\n    elements: [],\r\n    circleDatas: [],\r\n    info: {},\r\n    oldNodeId: \"\",\r\n    addCircles: function(datas) {\r\n        ElementStore.prototype.circleDatas = ElementStore.prototype.circleDatas.concat(\r\n            datas\r\n        );\r\n    },\r\n    saveLines: function(lines) {\r\n        ElementStore.prototype.elements.splice(0, 0, ...lines);\r\n    },\r\n    saveElement: ele => {\r\n        ElementStore.prototype.elements.push(ele);\r\n    },\r\n    getElements: type => {\r\n        let eles = [];\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n            if (ElementStore.prototype.elements[l].data.type == type) {\r\n                eles.push(ElementStore.prototype.elements[l]);\r\n            }\r\n        }\r\n        return eles;\r\n    },\r\n    resetData: () => {\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n            if (ElementStore.prototype.elements[l].data.eleType == \"circle\") {\r\n                ElementStore.prototype.elements[l].data.x = parseInt(\r\n                    50 + Math.random() * 700\r\n                );\r\n                ElementStore.prototype.elements[l].data.y = parseInt(\r\n                    50 + Math.random() * 700\r\n                );\r\n                ElementStore.prototype.elements[l].old_x =\r\n                    ElementStore.prototype.elements[l].data.x;\r\n                ElementStore.prototype.elements[l].old_y =\r\n                    ElementStore.prototype.elements[l].data.y;\r\n            }\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/ElementStore.js","import { ElementStore } from \"./utils/ElementStore\";\r\n\r\nexport function RoleController(ctx) {\r\n    this.canvas = ctx;\r\n    RoleController.prototype.pen = ctx.getContext(\"2d\");\r\n    this.main_loop = () => {\r\n        RoleController.prototype.pen.clearRect(0, 0, 9999, 9999);\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n            ElementStore.prototype.elements[l].living();\r\n            ElementStore.prototype.elements[l].draw(RoleController.prototype.pen);\r\n        }\r\n        requestAnimationFrame(this.main_loop);\r\n    };\r\n    this.main_loop();\r\n    this.currentX = 0;\r\n    this.currentY = 0;\r\n    this.onDrag = (x, y, eventType) => {\r\n        if (eventType == \"down\") {\r\n            this.currentX = 0;\r\n            this.currentY = 0;\r\n        } else {\r\n            let translateX = x - this.currentX;\r\n            let translateY = y - this.currentY;\r\n            let shouldTransPen = false;\r\n            if (RoleController.prototype.translateX + translateX < 0) {\r\n                RoleController.prototype.translateX += translateX;\r\n                this.currentX = x;\r\n                shouldTransPen = true;\r\n            } else {\r\n                translateX = 0;\r\n            }\r\n            if (RoleController.prototype.translateY + translateY < 0) {\r\n                RoleController.prototype.translateY += translateY;\r\n                this.currentY = y;\r\n                shouldTransPen = true;\r\n            } else {\r\n                translateY = 0;\r\n            }\r\n            if (shouldTransPen) {\r\n                RoleController.prototype.pen.translate(translateX, translateY);\r\n            }\r\n        }\r\n    };\r\n    this.backToStart = () => {\r\n        RoleController.prototype.pen.translate(-RoleController.prototype.translateX, -RoleController.prototype.translateY);\r\n        RoleController.prototype.translateX = 0;\r\n        RoleController.prototype.translateY = 0;\r\n        ElementStore.prototype.resetData();\r\n    };\r\n}\r\nRoleController.prototype = {\r\n    translateX: 0,\r\n    translateY: 0\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/RoleController.js","const Setting = {};\r\nSetting.prototype = {\r\n    defaultBorder: 0.1,\r\n    defaultBorderColor: \"#ccc\",\r\n    RectBgColor: \"#f0f\",\r\n    RectWidth: 50,\r\n    RectHeight: 30,\r\n    CircleBgColor: \"#48D1CC\",\r\n    CircleRadius: 26, //圆的半径\r\n    CircleHoverBgColor: \"#40E0D0\",\r\n    CircleSelectColor: \"#5CACEE\",\r\n    CircleTextColor: \"#333\", // 圆正常时的字体颜色\r\n    CircleTextHoverColor: \"#4876FF\", // 圆悬停时的字体颜色\r\n    CircleTextSelectColor: \"#8B008B\", // 圆选中时的字体颜色\r\n    CircleTextFont: \"12\", // 圆正常时的字体大小\r\n    CircleTextSelectFont: \"18\", // 圆选中时的字体大小\r\n    lineWidth: 1, //线的宽度\r\n    LineColor: \"#333\", //线的正常颜色\r\n    lineSelectWidth: 2, //线被选中时的宽度\r\n    lineSelectColor: \"#0fff00\", //线被选中时的颜色\r\n    lineHoverColor: \"#9AFF9A\", //鼠标经过线时的颜色\r\n    lineLabelWidth: 50, //线label矩形的宽度\r\n    lineLabelHeight: 10, //线label矩形的高度\r\n    lineLabelBg: \"#FFFFFF\", //线label的背景\r\n    lineTextMaxLength: 5, //线label文字最大长度length\r\n    lineLabelText: \"#333\", //线label字体颜色 正常时\r\n    lineLabelTextFont: \"14\", //线label字体大小 正常时\r\n    lineLabelTextSelectFont: \"18\", //线label字体大小 选中时\r\n    hoverElementId: 0, //当时鼠标经过的元素的id\r\n    SelectElementId: 0, //当前被选中元素的id\r\n    bevel: 10, // 箭头边长\r\n    bevelAngle: Math.PI / 4 //箭头两边夹角\r\n};\r\nexport default Setting;\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/setting.js","import { ElementStore } from \"./ElementStore\";\r\nimport { RoleController } from \"../RoleController\";\r\nimport Setting from \"./setting\";\r\nexport function EventHandler() {}\r\nEventHandler.prototype = {\r\n    activeEle: \"\", //当前点击被激活元素\r\n    startDragEvent: {\r\n        onDrag: false\r\n    }, //拖拽canvas的起始事件\r\n    startTime: 0, //激活元素被点击的起始时间，用于后期判断是否是双击，单击事件能不能被触发\r\n    clientList: {}, //canvas系统的发布订阅\r\n    listen: function(key, fn) {\r\n        if (!EventHandler.prototype.clientList[key]) {\r\n            EventHandler.prototype.clientList[key] = [];\r\n            EventHandler.prototype.clientList[key].push(fn);\r\n        }\r\n\r\n    },\r\n    trigger: function() {\r\n        let key = Array.prototype.shift.call(arguments);\r\n        let fns = EventHandler.prototype.clientList[key];\r\n        if (!fns || fns.length === 0) {\r\n            return false;\r\n        }\r\n        for (let l = 0; l < fns.length; l++) {\r\n            fns[l].apply(this, arguments);\r\n        }\r\n    },\r\n    handleClick: function(event) {\r\n        for (let l = ElementStore.prototype.elements.length - 1; l >= 0; l--) {\r\n            if (ElementStore.prototype.elements[l].caculate(event)) {\r\n                alert(\"ok\");\r\n            }\r\n        }\r\n    },\r\n    handleMouseDown: function(event) {\r\n        for (let l = ElementStore.prototype.elements.length - 1; l >= 0; l--) {\r\n            if (ElementStore.prototype.elements[l].caculate(event)) {\r\n                EventHandler.prototype.activeEle = ElementStore.prototype.elements[l];\r\n                EventHandler.prototype.activeEle.data.isActive = true;\r\n                if (new Date().getTime() - EventHandler.prototype.startTime < 300) {\r\n                    ElementStore.prototype.elements[l].onDoubleClick();\r\n                }\r\n                EventHandler.prototype.startTime = new Date().getTime();\r\n                return;\r\n            }\r\n        }\r\n        if (EventHandler.prototype.activeEle == \"\") {\r\n            //拖拽画布\r\n            EventHandler.prototype.trigger(\"drag\", 0, 0, \"down\");\r\n            EventHandler.prototype.startDragEvent.onDrag = true;\r\n            EventHandler.prototype.startDragEvent.offsetX = event.offsetX;\r\n            EventHandler.prototype.startDragEvent.offsetY = event.offsetY;\r\n        }\r\n    },\r\n    handleMouseUp: function() {\r\n        if (\r\n            EventHandler.prototype.activeEle != \"\" &&\r\n            new Date().getTime() - this.startTime < 300\r\n        ) {\r\n            EventHandler.prototype.activeEle.onClick();\r\n\r\n        }\r\n        if (EventHandler.prototype.activeEle != \"\") {\r\n            EventHandler.prototype.activeEle.data.isActive = false;\r\n        }\r\n        this.activeEle = \"\";\r\n        EventHandler.prototype.startDragEvent.onDrag = false;\r\n\r\n    },\r\n    handleMouseMove: function(event) {\r\n        if (this.activeEle != \"\") {\r\n            this.activeEle.update(event);\r\n        }\r\n\r\n        if (EventHandler.prototype.startDragEvent.onDrag) {\r\n            EventHandler.prototype.onDrag(event);\r\n        }\r\n        let showDetails = false;\r\n        for (let l = ElementStore.prototype.elements.length - 1; l >= 0; l--) {\r\n            if (ElementStore.prototype.elements[l].caculate(event)) {\r\n                Setting.prototype.hoverElementId =\r\n                    ElementStore.prototype.elements[l].data.id;\r\n                EventHandler.prototype.trigger(\r\n                    \"showDetails\",\r\n                    ElementStore.prototype.elements[l].data\r\n                );\r\n                showDetails = true;\r\n                return;\r\n            }\r\n            if (l == ElementStore.prototype.elements.length - 1) {\r\n                Setting.prototype.hoverElementId = 0;\r\n            }\r\n        }\r\n        if (!showDetails) {\r\n            EventHandler.prototype.trigger(\"showDetails\", false);\r\n        }\r\n    },\r\n    onDrag: function(event) {\r\n        let x = event.offsetX - EventHandler.prototype.startDragEvent.offsetX; //横坐标相对于起始位置移动了多少\r\n        let y = event.offsetY - EventHandler.prototype.startDragEvent.offsetY; //纵坐标相对于起始位置移动了多少\r\n        EventHandler.prototype.trigger(\"drag\", x, y);\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/EventHandler.js","import { ElementStore } from \"./ElementStore\";\r\nimport Setting from \"./setting\"\r\nexport function Util() {}\r\nUtil.prototype = {\r\n    changeTragetElement: function(ele) {\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n            if (\r\n                ElementStore.prototype.elements[l].data.id != ele.data.id &&\r\n                ElementStore.prototype.elements[l].data.x\r\n            ) {\r\n                let distanceX = Math.abs(\r\n                    ele.data.x - ElementStore.prototype.elements[l].data.x\r\n                );\r\n                let distanceY = Math.abs(\r\n                    ele.data.y - ElementStore.prototype.elements[l].data.y\r\n                );\r\n                let distance = Math.hypot(distanceX, distanceY);\r\n                let SinT =\r\n                    (ele.data.x - ElementStore.prototype.elements[l].data.x) / distance;\r\n                let CosT =\r\n                    (ele.data.y - ElementStore.prototype.elements[l].data.y) / distance;\r\n                if (distance < Setting.prototype.CircleRadius * 2) {\r\n                    ElementStore.prototype.elements[l].data.x =\r\n                        ElementStore.prototype.elements[l].data.x -\r\n                        (Setting.prototype.CircleRadius * 2 - distance) * SinT * 0.1;\r\n                    ElementStore.prototype.elements[l].data.y =\r\n                        ElementStore.prototype.elements[l].data.y -\r\n                        (Setting.prototype.CircleRadius * 2 - distance) * CosT * 0.1;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    livingCycle: function() {\r\n        let activeEle = \"\";\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n            if (ElementStore.prototype.elements[l].data.isActive) {\r\n                activeEle = ElementStore.prototype.elements[l];\r\n            }\r\n        }\r\n        if (activeEle != \"\") {\r\n            for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n                if (\r\n                    ElementStore.prototype.elements[l].data.linkNum ==\r\n                    activeEle.data.linkNum &&\r\n                    ElementStore.prototype.elements[l].data.id != activeEle.data.id\r\n                ) {\r\n                    ElementStore.prototype.elements[l].data;\r\n                }\r\n            }\r\n        }\r\n\r\n        let distanceX = Math.abs(this.data.beginPoint.x - this.data.endPoint.x);\r\n        let distanceY = Math.abs(this.data.beginPoint.y - this.data.endPoint.y);\r\n        let distance = Math.hypot(distanceX, distanceY);\r\n        let SinT = (this.data.beginPoint.x - this.data.endPoint.x) / distance;\r\n        let CosT = this.data.beginPoint.y - this.data.endPoint.y;\r\n        if (distance > 300) {\r\n            this.data.endPoint.x =\r\n                this.data.endPoint.x + (distance - 300) * SinT * 0.01;\r\n            this.data.endPoint.y =\r\n                this.data.endPoint.y + (distance - 300) * CosT * 0.01;\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/Util.js","import { ElementCreator } from \"../utils/ElementCreator\";\r\nimport { RoleController } from \"../RoleController\";\r\nimport Setting from \"../utils/setting\";\r\nimport { Util } from \"../utils/Util\";\r\nimport { EventHandler } from \"../utils/EventHandler\";\r\nexport function CircleElement(data) {\r\n    this.old_x = data.x;\r\n    this.old_y = data.y;\r\n    this.isActive = false;\r\n    this.data = data;\r\n}\r\nCircleElement.prototype = {\r\n    caculate: function(event) {\r\n        let x = event.offsetX - RoleController.prototype.translateX - this.data.x;\r\n        let y = event.offsetY - RoleController.prototype.translateY - this.data.y;\r\n        if (Math.sqrt(x * x + y * y) < Setting.prototype.CircleRadius) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    },\r\n    draw: function(pen) {\r\n        pen.beginPath(); //单起一个路径，不会被外部影响\r\n        pen.strokeStyle = Setting.prototype.defaultBorderColor;\r\n        pen.arc(\r\n            this.data.x,\r\n            this.data.y,\r\n            Setting.prototype.CircleRadius,\r\n            0,\r\n            Math.PI * 2,\r\n            false\r\n        ); //圆心x,y,半径，起始弧度，最终弧度，顺时针(逆时针)\r\n        pen.fillStyle = Setting.prototype.CircleBgColor;\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            pen.fillStyle = Setting.prototype.CircleHoverBgColor;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            pen.fillStyle = Setting.prototype.CircleSelectColor;\r\n        }\r\n        pen.fill();\r\n        pen.stroke();\r\n\r\n        // 文字\\\r\n        let text = this.data.name;\r\n        pen.fillStyle = Setting.prototype.CircleTextColor; // 字体颜色\r\n        pen.font = `${Setting.prototype.CircleTextFont}px Arial`; // 字体大小\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时字体的颜色\r\n            pen.fillStyle = Setting.prototype.CircleTextHoverColor;\r\n            pen.font = `${Setting.prototype.CircleTextSelectFont}px Arial`;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时字体的颜色\r\n            pen.fillStyle = Setting.prototype.CircleTextSelectColor;\r\n            pen.font = `${Setting.prototype.CircleTextSelectFont}px Arial`;\r\n        }\r\n        pen.textAlign = \"center\";\r\n        pen.textBaseline = \"middle\";\r\n        pen.fillText(text, this.data.x, this.data.y);\r\n        pen.closePath();\r\n    },\r\n    update: function(event) {\r\n        this.data.x = event.offsetX - RoleController.prototype.translateX;\r\n        this.data.y = event.offsetY - RoleController.prototype.translateY;\r\n        if (this.data.x - Setting.prototype.CircleRadius < 0) {\r\n            this.data.x = Setting.prototype.CircleRadius;\r\n        }\r\n        if (this.data.y - Setting.prototype.CircleRadius < 0) {\r\n            this.data.y = Setting.prototype.CircleRadius;\r\n        }\r\n    },\r\n    living: function() {\r\n        let vx = (this.data.x - this.old_x) * 0.92,\r\n            vy = (this.data.y - this.old_y) * 0.92;\r\n        this.old_x = this.data.x;\r\n        this.old_y = this.data.y;\r\n        if (!this.data.isActive) {\r\n            this.data.x += vx;\r\n            this.data.y += vy;\r\n        }\r\n        if (this.data.x - Setting.prototype.CircleRadius < 0) {\r\n            this.data.x = Setting.prototype.CircleRadius;\r\n            this.old_x = this.data.x + vx * 0.2;\r\n        }\r\n        if (this.data.y - Setting.prototype.CircleRadius < 0) {\r\n            this.data.y = Setting.prototype.CircleRadius;\r\n            this.old_y = this.data.y + vy * 0.2;\r\n        }\r\n        Util.prototype.changeTragetElement(this);\r\n    },\r\n    addChildren: function(datas) {\r\n        ElementCreator.prototype.addElements(datas);\r\n    },\r\n    isDoubleClick: false,\r\n    onClick: function() {\r\n        this.timer = setTimeout(() => {\r\n            if (!this.isDoubleClick) {\r\n                if (Setting.prototype.SelectElementId != this.data.id) {\r\n                    Setting.prototype.SelectElementId = this.data.id;\r\n                    EventHandler.prototype.trigger(\"showInfo\", this.data);\r\n                } else {\r\n                    Setting.prototype.SelectElementId = -1;\r\n                }\r\n            }\r\n            this.isDoubleClick = false;\r\n        }, 300);\r\n    },\r\n    onDoubleClick: function() {\r\n        clearTimeout(this.timer);\r\n        this.isDoubleClick = true;\r\n        EventHandler.prototype.trigger(\"loadNewData\", this.data);\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/elements/CircleElement.js","import { ElementCreator } from \"../utils/ElementCreator\";\r\nimport { EventHandler } from \"../utils/EventHandler\";\r\nimport { Util } from \"../utils/Util\";\r\nexport function RectElement(data) {\r\n    this.old_x = data.x;\r\n    this.old_y = data.y;\r\n    this.isActive = false;\r\n    this.data = data;\r\n}\r\nRectElement.prototype = {\r\n    caculate: function(event) {\r\n        let x = event.offsetX - (this.data.x - this.data.width / 2);\r\n        let y = event.offsetY - (this.data.y - this.data.height / 2);\r\n        if (x > 0 && x < this.data.width && y > 0 && y < this.data.height) {\r\n            return true;\r\n        }\r\n    },\r\n    draw: function(pen) {\r\n        pen.beginPath(); //单起一个路径，不会被外部影响\r\n        pen.lineWidth = 0.1;\r\n        pen.rect(\r\n            this.data.x - this.data.width / 2,\r\n            this.data.y - this.data.height / 2,\r\n            this.data.width,\r\n            this.data.height\r\n        );\r\n        pen.fillStyle = this.data.bg;\r\n        //pen.strokeStyle = this.data.border;\r\n        pen.fill();\r\n        pen.stroke();\r\n    },\r\n    update: function(event) {\r\n        this.data.x = event.offsetX;\r\n        this.data.y = event.offsetY;\r\n        if (this.data.x - this.data.width / 2 < 0) {\r\n            this.data.x = this.data.width / 2;\r\n        }\r\n        if (this.data.y - this.data.height / 2 < 0) {\r\n            this.data.y = this.data.height / 2;\r\n        }\r\n    },\r\n    onClick: function() {\r\n        EventHandler.prototype.trigger(\"eleClick\", \"aaa\");\r\n    },\r\n    living: function() {\r\n        let vx = (this.data.x - this.old_x) * 0.92,\r\n            vy = (this.data.y - this.old_y) * 0.92;\r\n        this.old_x = this.data.x;\r\n        this.old_y = this.data.y;\r\n        if (!this.data.isActive) {\r\n            this.data.x += vx;\r\n            this.data.y += vy;\r\n        }\r\n        if (this.data.x - this.data.radius < 0) {\r\n            this.data.x = this.data.radius;\r\n            this.old_x = this.data.x + vx * 0.2;\r\n        }\r\n        if (this.data.y - this.data.radius < 0) {\r\n            this.data.y = this.data.radius;\r\n            this.old_y = this.data.y + vy * 0.2;\r\n        }\r\n        Util.prototype.changeTragetElement(this);\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/elements/RectElement.js","import Setting from \"../utils/setting\";\r\nimport { RoleController } from \"../RoleController\";\r\nexport function LineElement(data) {\r\n    this.data = data;\r\n}\r\nLineElement.prototype = {\r\n    draw: function(pen) {\r\n        pen.beginPath(); //单起一个路径，不会被外部影响\r\n        pen.lineWidth = Setting.prototype.lineWidth; //线条的宽度\r\n        pen.strokeStyle = Setting.prototype.LineColor; //默认线条的颜色\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时线条的颜色\r\n            pen.lineWidth = Setting.prototype.lineSelectWidth;\r\n            pen.strokeStyle = Setting.prototype.lineHoverColor;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时线条的颜色\r\n            pen.lineWidth = Setting.prototype.lineSelectWidth;\r\n            pen.strokeStyle = Setting.prototype.lineSelectColor;\r\n        }\r\n        pen.moveTo(this.data.endPoint.x, this.data.endPoint.y);\r\n        pen.lineTo(\r\n            this.data.beginPoint.x + this.data.beginPoint.width / 2,\r\n            this.data.beginPoint.y + this.data.beginPoint.height / 2\r\n        );\r\n        pen.stroke();\r\n        pen.closePath();\r\n        // 箭头\r\n        let x1 = this.data.endPoint.x;\r\n        let y1 = this.data.endPoint.y;\r\n        let x2 = this.data.beginPoint.x + this.data.beginPoint.width / 2;\r\n        let y2 = this.data.beginPoint.y + this.data.beginPoint.height / 2;\r\n        let distance = Math.hypot(y2 - y1, x2 - x1); // 两点圆心间距\r\n        let radius = Setting.prototype.CircleRadius; // 圆形节点的半径\r\n        let vertexX = x1 + radius * (x2 - x1) / distance; // 箭头顶点，在圆上\r\n        let vertexY = y1 + radius * (y2 - y1) / distance;\r\n        let bevel = Setting.prototype.bevel; // 箭头长度\r\n        let bevelAngle = Setting.prototype.bevelAngle; // 箭头两边夹角\r\n        var rotate, xa, xb, ya, yb, translateX, translateY;\r\n        if (x2 >= x1) {\r\n            rotate = Math.asin((y2 - y1) / distance); // 旋转弧度\r\n            translateY = distance / 2 * Math.sin(rotate);\r\n            translateX = distance / 2 * Math.cos(rotate); // 圆心距离的中心点\r\n        } else {\r\n            rotate = Math.PI - Math.asin((y2 - y1) / distance); // 旋转弧度\r\n            translateY = distance / 2 * Math.sin(rotate);\r\n            translateX = distance / 2 * Math.cos(rotate);\r\n        }\r\n        if (x2 >= x1) {\r\n            // 箭头微调的距离\r\n            xa = bevel * Math.cos(rotate - bevelAngle / 2);\r\n            ya = bevel * Math.sin(rotate - bevelAngle / 2);\r\n            xb = bevel * Math.cos(rotate + bevelAngle / 2);\r\n            yb = bevel * Math.sin(rotate + bevelAngle / 2);\r\n        }\r\n        if (x2 < x1) {\r\n            xa = bevel * Math.cos(Math.PI - rotate + bevelAngle / 2);\r\n            ya = bevel * Math.sin(Math.PI - rotate + bevelAngle / 2);\r\n            xb = bevel * Math.cos(Math.PI - rotate - bevelAngle / 2);\r\n            yb = bevel * Math.sin(Math.PI - rotate - bevelAngle / 2);\r\n        }\r\n        pen.beginPath();\r\n        pen.lineWidth = Setting.prototype.lineWidth; // 箭头线条的宽度\r\n        pen.fillStyle = Setting.prototype.LineColor;\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时箭头的颜色\r\n            pen.fillStyle = Setting.prototype.lineHoverColor;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时箭头的颜色\r\n            pen.fillStyle = Setting.prototype.lineSelectColor;\r\n        }\r\n\r\n        if (x2 >= x1) {\r\n            pen.moveTo(vertexX + xa, vertexY + ya); // 箭头左顶点\r\n            pen.lineTo(vertexX, vertexY); // 圆上节点\r\n            pen.lineTo(vertexX + xb, vertexY + yb); // 箭头右顶点\r\n        }\r\n        if (x2 < x1) {\r\n            pen.moveTo(vertexX - xa, vertexY + ya);\r\n            pen.lineTo(vertexX, vertexY);\r\n            pen.lineTo(vertexX - xb, vertexY + yb);\r\n        }\r\n        pen.fill();\r\n        pen.closePath();\r\n        // 文字矩形\r\n        let rectWidth = Setting.prototype.lineLabelWidth;\r\n        let rectHeight = Setting.prototype.lineLabelHeight;\r\n        let rectOriginX, rectOriginY;\r\n        let rectbevel = Math.hypot(rectWidth, rectHeight) / 2; // 矩形内斜对角一半\r\n        let rectInnerAngle = Math.asin(rectHeight / 2 / rectbevel); // 矩形内斜对角线和矩形宽的夹角\r\n        pen.save();\r\n        pen.beginPath();\r\n\r\n        if (x2 >= x1) {\r\n            // x1 + translateX 文字矩形左顶点位于 两点圆心距离的中心点\r\n            rectOriginX =\r\n                x1 + translateX - rectbevel * Math.cos(rotate + rectInnerAngle);\r\n            rectOriginY =\r\n                y1 + translateY - rectbevel * Math.sin(rotate + rectInnerAngle);\r\n            pen.translate(rectOriginX, rectOriginY);\r\n            pen.rotate(rotate);\r\n        } else {\r\n            rectOriginX =\r\n                x1 + translateX + rectbevel * Math.cos(rotate + rectInnerAngle);\r\n            rectOriginY =\r\n                y1 + translateY + rectbevel * Math.sin(rotate + rectInnerAngle);\r\n            pen.translate(rectOriginX, rectOriginY);\r\n            pen.rotate(rotate - Math.PI);\r\n        }\r\n        // 点击文字 需要用到的参数\r\n        this.rectOriginX = rectOriginX;\r\n        this.rectOriginY = rectOriginY;\r\n        this.rectWidth = rectWidth;\r\n        this.rectHeight = rectHeight;\r\n\r\n        pen.rect(0, 0, rectWidth, rectHeight);\r\n        pen.fillStyle = Setting.prototype.lineLabelBg; // 矩形背景颜色\r\n        pen.fill();\r\n\r\n        pen.fillStyle = Setting.prototype.lineLabelText; // 字体颜色\r\n        pen.font = `${Setting.prototype.lineLabelTextFont}px Arial`;\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时字体的颜色\r\n            pen.fillStyle = Setting.prototype.lineHoverColor;\r\n            pen.font = `${Setting.prototype.lineLabelTextSelectFont}px Arial`;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时字体的颜色\r\n            pen.fillStyle = Setting.prototype.lineSelectColor;\r\n            pen.font = `${Setting.prototype.lineLabelTextSelectFont}px Arial`;\r\n        }\r\n        let maxLength = Setting.prototype.lineTextMaxLength;\r\n        pen.textAlign = \"center\";\r\n        pen.textBaseline = \"middle\";\r\n        if (this.data.rel.length >= maxLength) {\r\n            this.data.rel = this.data.rel.replace(\r\n                this.data.rel.substring(maxLength),\r\n                \"...\"\r\n            );\r\n        }\r\n        pen.fillText(this.data.rel, rectWidth / 2, rectHeight / 2);\r\n\r\n        pen.closePath();\r\n        pen.restore();\r\n    },\r\n    caculate: function(event) {\r\n        let x1 = this.data.endPoint.x;\r\n        let y1 = this.data.endPoint.y;\r\n        let x2 = this.data.beginPoint.x;\r\n        let y2 = this.data.beginPoint.y;\r\n        let x0 = event.offsetX - RoleController.prototype.translateX; // 点击页面的坐标\r\n        let y0 = event.offsetY - RoleController.prototype.translateY;\r\n\r\n        let x1x2 = Math.hypot(y2 - y1, x2 - x1); // 线的长度\r\n        let x0x1 = Math.hypot(y0 - y1, x0 - x1); // 3条边距离\r\n        let x0x2 = Math.hypot(y2 - y0, x2 - x0); // 3条边距离\r\n        let perimeterHalf = (x1x2 + x0x1 + x0x2) / 2; // 三角形周长一半\r\n        let mixDistance = 10; // 设置最小距离\r\n        let lineDistance; // 点击点到线的距离\r\n\r\n        if (x1 == x2) {\r\n            // 竖线\r\n            lineDistance = Math.abs(x0 - x1);\r\n            if (x1 == x0) {\r\n                return false;\r\n            }\r\n        } else if (y1 == y2) {\r\n            // 横线\r\n            lineDistance = Math.abs(y0 - y1);\r\n            if (y1 == y0) {\r\n                return false;\r\n            }\r\n        } else if (x1 > x2 && (x0 <= x2 || x0 >= x1)) {\r\n            return false;\r\n        } else if (x1 < x2 && (x0 <= x1 || x0 >= x2)) {\r\n            return false;\r\n        } else {\r\n            lineDistance =\r\n                2 *\r\n                Math.sqrt(\r\n                    perimeterHalf *\r\n                    (perimeterHalf - x1x2) *\r\n                    (perimeterHalf - x0x1) *\r\n                    (perimeterHalf - x0x2)\r\n                ) /\r\n                x1x2;\r\n        }\r\n        if (lineDistance <= mixDistance) {\r\n            return true;\r\n        }\r\n    },\r\n    onClick: function(event) {\r\n        Setting.prototype.SelectElementId = this.data.id;\r\n    },\r\n    update: function(beginPoint, endPoint) {\r\n        this.beginPoint = beginPoint;\r\n        this.endPoint = endPoint;\r\n    },\r\n    living: function() {\r\n        let distanceX = Math.abs(this.data.beginPoint.x - this.data.endPoint.x);\r\n        let distanceY = Math.abs(this.data.beginPoint.y - this.data.endPoint.y);\r\n        let distance = Math.hypot(distanceX, distanceY);\r\n        let SinT = (this.data.beginPoint.x - this.data.endPoint.x) / distance;\r\n        let CosT = (this.data.beginPoint.y - this.data.endPoint.y) / distance;\r\n        let offsetX = 0;\r\n        let offsetY = 0;\r\n        if (\r\n            this.data.beginPoint.id == Setting.prototype.SelectElementId ||\r\n            this.data.endPoint.id == Setting.prototype.SelectElementId\r\n        ) {} else {\r\n            if (distance > 250) {\r\n                offsetX = (distance - 250) * SinT * 0.2;\r\n                offsetY = (distance - 250) * CosT * 0.2;\r\n                if (offsetX > 0 && offsetX > 30) {\r\n                    offsetX = 30;\r\n                }\r\n                if (offsetX < 0 && offsetX < -30) {\r\n                    offsetX = -30;\r\n                }\r\n                if (offsetY > 0 && offsetY > 30) {\r\n                    offsetY = 30;\r\n                }\r\n                if (offsetY < 0 && offsetY < -30) {\r\n                    offsetY = -30;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (distance < 150) {\r\n            offsetX = (distance - 150) * SinT * 0.2;\r\n            offsetY = (distance - 150) * CosT * 0.2;\r\n        }\r\n        if (!this.data.beginPoint.isActive) {\r\n            if (this.data.beginPoint.id != Setting.prototype.SelectElementId) {\r\n                this.data.beginPoint.x -= offsetX;\r\n                this.data.beginPoint.y -= offsetY;\r\n            }\r\n        }\r\n        if (!this.data.endPoint.isActive) {\r\n            if (this.data.endPoint.id != Setting.prototype.SelectElementId) {\r\n                this.data.endPoint.x += offsetX;\r\n                this.data.endPoint.y += offsetY;\r\n            }\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/elements/LineElement.js","import Setting from \"../utils/setting\";\r\nimport { RoleController } from \"../RoleController\";\r\nexport function BezierLineElement(data) {\r\n    this.data = data;\r\n}\r\nBezierLineElement.prototype = {\r\n    draw: function(pen) {\r\n        let midX = (this.data.beginPoint.x + this.data.endPoint.x) / 2;\r\n        let midY = (this.data.beginPoint.y + this.data.endPoint.y) / 2;\r\n        let hypotSide = Math.hypot(\r\n            Math.abs(this.data.endPoint.x - this.data.beginPoint.x),\r\n            Math.abs(this.data.endPoint.y - this.data.beginPoint.y)\r\n        );\r\n        let sinT = (this.data.endPoint.x - this.data.beginPoint.x) / hypotSide;\r\n        let cosT = (this.data.endPoint.y - this.data.beginPoint.y) / hypotSide;\r\n        let lineHeight = 60;\r\n        let middlePoint = { x: midX, y: midY };\r\n        // 绘制线条\r\n        pen.beginPath(); //单起一个路径，不会被外部影响\r\n        pen.lineWidth = Setting.prototype.lineWidth; //线条的宽度\r\n        pen.strokeStyle = Setting.prototype.LineColor; //默认线条的颜色\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时线条的颜色\r\n            pen.lineWidth = Setting.prototype.lineSelectWidth;\r\n            pen.strokeStyle = Setting.prototype.lineHoverColor;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时线条的颜色\r\n            pen.lineWidth = Setting.prototype.lineSelectWidth;\r\n            pen.strokeStyle = Setting.prototype.lineSelectColor;\r\n        }\r\n        pen.moveTo(this.data.beginPoint.x, this.data.beginPoint.y);\r\n        let finalY = parseInt(middlePoint.y + lineHeight * sinT); // 控制点\r\n        let finalX = parseInt(middlePoint.x - lineHeight * cosT);\r\n        pen.quadraticCurveTo(\r\n            finalX,\r\n            finalY,\r\n            this.data.endPoint.x,\r\n            this.data.endPoint.y\r\n        );\r\n        pen.stroke();\r\n\r\n        // 箭头\r\n        let x1 = this.data.endPoint.x;\r\n        let y1 = this.data.endPoint.y;\r\n        let x2 = finalX;\r\n        let y2 = finalY;\r\n        let x3 = this.data.beginPoint.x;\r\n        let y3 = this.data.beginPoint.y;\r\n        let radius = Setting.prototype.CircleRadius; // 圆形节点的半径\r\n        let vertexX = x1 + radius * (x2 - x1) / Math.hypot(y2 - y1, x2 - x1); // 箭头在圆上顶点(控制点和x1点)\r\n        let vertexY = y1 + radius * (y2 - y1) / Math.hypot(y2 - y1, x2 - x1);\r\n        var rotate, xa, xb, ya, yb, rotateText;\r\n        let bevel = Setting.prototype.bevel; // 箭头长度\r\n        let bevelAngle = Setting.prototype.bevelAngle; // 箭头两边夹角\r\n        let CurveVertexX =\r\n            0.25 * (this.data.endPoint.x + this.data.beginPoint.x) + 0.5 * finalX; // 曲线上顶点坐标\r\n        let CurveVertexY =\r\n            0.25 * (this.data.endPoint.y + this.data.beginPoint.y) + 0.5 * finalY;\r\n        if (x2 >= x1) {\r\n            // rotate：计算箭头两边点的角度. 用控制点来计算。在-20 到 0度时 有 跳变情况。使用Math.PI/10来修正\r\n            rotate =\r\n                Math.asin((finalY - y1) / Math.hypot(finalY - y1, finalX - x1)) +\r\n                Math.PI / 10; // 弧度\r\n        } else {\r\n            rotate =\r\n                Math.PI -\r\n                Math.asin((finalY - y1) / Math.hypot(finalY - y1, finalX - x1)) +\r\n                Math.PI / 10; // 弧度\r\n        }\r\n        if (x2 < x1) {\r\n            xa = bevel * Math.cos(Math.PI - rotate + bevelAngle / 2);\r\n            ya = bevel * Math.sin(Math.PI - rotate + bevelAngle / 2);\r\n            xb = bevel * Math.cos(Math.PI - rotate - bevelAngle / 2);\r\n            yb = bevel * Math.sin(Math.PI - rotate - bevelAngle / 2);\r\n        }\r\n        if (x2 >= x1) {\r\n            // xa ya,xb yb 箭头两个结束点位置相对于顶点的距离\r\n            xa = bevel * Math.cos(rotate - bevelAngle / 2);\r\n            ya = bevel * Math.sin(rotate - bevelAngle / 2);\r\n            xb = bevel * Math.cos(rotate + bevelAngle / 2);\r\n            yb = bevel * Math.sin(rotate + bevelAngle / 2);\r\n        }\r\n        pen.lineWidth = Setting.prototype.lineWidth; //箭头线条的宽度\r\n        pen.fillStyle = Setting.prototype.LineColor; //默认箭头线条的颜色\r\n        pen.save();\r\n        pen.beginPath();\r\n        if (x2 >= x1) {\r\n            pen.moveTo(vertexX + xa, vertexY + ya); // 左箭头顶点\r\n            pen.lineTo(vertexX, vertexY); // 圆上节点\r\n            pen.lineTo(vertexX + xb, vertexY + yb); // 右箭头顶点\r\n            pen.closePath();\r\n        }\r\n        if (x2 < x1) {\r\n            pen.moveTo(vertexX - xa, vertexY + ya);\r\n            pen.lineTo(vertexX, vertexY); // 圆上节点\r\n            pen.lineTo(vertexX - xb, vertexY + yb);\r\n            pen.closePath();\r\n        }\r\n        pen.fill(); // 实心箭头\r\n        pen.restore();\r\n\r\n        // 文字矩形\r\n        if (x3 >= x1) {\r\n            // rotateText 文字矩形旋转角度\r\n            rotateText = Math.asin((y3 - y1) / Math.hypot(y3 - y1, x3 - x1));\r\n        } else {\r\n            rotateText =\r\n                Math.PI - Math.asin((y3 - y1) / Math.hypot(y3 - y1, x3 - x1));\r\n        }\r\n        let rectWidth = Setting.prototype.lineLabelWidth;\r\n        let rectHeight = Setting.prototype.lineLabelHeight;\r\n        let rectbevel = Math.hypot(rectWidth, rectHeight) / 2; // 矩形内斜对角一半\r\n        let rectOriginX, rectOriginY; // 文字矩形左上角坐标\r\n        // let CurveVertexX =\r\n        //     0.25 * (this.data.endPoint.x + this.data.beginPoint.x) + 0.5 * finalX; // 曲线上顶点坐标\r\n        // let CurveVertexY =\r\n        //     0.25 * (this.data.endPoint.y + this.data.beginPoint.y) + 0.5 * finalY;\r\n        let rectInnerAngle = Math.asin(rectHeight / 2 / rectbevel); // 矩形内斜对角线和矩形宽的夹角\r\n        pen.save();\r\n        pen.beginPath();\r\n        if (x3 > x1) {\r\n            rectOriginX =\r\n                CurveVertexX - rectbevel * Math.cos(rotateText + rectInnerAngle);\r\n            rectOriginY =\r\n                CurveVertexY - rectbevel * Math.sin(rotateText + rectInnerAngle);\r\n            pen.translate(rectOriginX, rectOriginY);\r\n            pen.rotate(rotateText);\r\n        } else {\r\n            rectOriginX =\r\n                CurveVertexX + rectbevel * Math.cos(rotateText + rectInnerAngle);\r\n            rectOriginY =\r\n                CurveVertexY + rectbevel * Math.sin(rotateText + rectInnerAngle);\r\n            pen.translate(rectOriginX, rectOriginY);\r\n            pen.rotate(rotateText - Math.PI);\r\n        }\r\n        pen.rect(0, 0, rectWidth, rectHeight);\r\n        pen.fillStyle = Setting.prototype.lineLabelBg; // 矩形背景颜色\r\n        pen.fill();\r\n\r\n        pen.fillStyle = Setting.prototype.lineLabelText; // 字体颜色\r\n        pen.font = `${Setting.prototype.lineLabelTextFont}px Arial`;\r\n        if (this.data.id == Setting.prototype.hoverElementId) {\r\n            // 悬停时字体的颜色\r\n            pen.fillStyle = Setting.prototype.lineHoverColor;\r\n            pen.font = `${Setting.prototype.lineLabelTextSelectFont}px Arial`;\r\n        }\r\n        if (this.data.id == Setting.prototype.SelectElementId) {\r\n            // 点击时字体的颜色\r\n            pen.fillStyle = Setting.prototype.lineSelectColor;\r\n            pen.font = `${Setting.prototype.lineLabelTextSelectFont}px Arial`;\r\n        }\r\n        let maxLength = Setting.prototype.lineTextMaxLength;\r\n        pen.textAlign = \"center\";\r\n        pen.textBaseline = \"middle\";\r\n        if (this.data.rel.length >= maxLength) {\r\n            this.data.rel = this.data.rel.replace(\r\n                this.data.rel.substring(maxLength),\r\n                \"...\"\r\n            );\r\n        }\r\n        pen.fillText(this.data.rel, rectWidth / 2, rectHeight / 2);\r\n\r\n        pen.closePath();\r\n        pen.restore();\r\n    },\r\n    caculate: function(event) {\r\n        let x1 = this.data.endPoint.x;\r\n        let y1 = this.data.endPoint.y;\r\n        let x2 = this.data.beginPoint.x;\r\n        let y2 = this.data.beginPoint.y;\r\n        let x0 = event.offsetX - RoleController.prototype.translateX; // 点击页面的坐标\r\n        let y0 = event.offsetY - RoleController.prototype.translateY;\r\n        let x1x2 = Math.hypot(y2 - y1, x2 - x1); // 线的长度 圆心两点间距\r\n        let x0x1 = Math.hypot(y0 - y1, x0 - x1); // 3条边距离\r\n        let x0x2 = Math.hypot(y2 - y0, x2 - x0); // 3条边距离\r\n        let perimeterHalf = (x1x2 + x0x1 + x0x2) / 2; // 三角形周长一半\r\n        let midX = (x2 + x1) / 2;\r\n        let midY = (y2 + y1) / 2;\r\n        let middlePoint = { x: midX, y: midY };\r\n        let lineHeight = 60;\r\n        let hypotSide = Math.hypot(Math.abs(x1 - x2), Math.abs(y1 - y2));\r\n        let sinT = (x1 - x2) / hypotSide;\r\n        let cosT = (y1 - y2) / hypotSide;\r\n        let finalY = parseInt(middlePoint.y + lineHeight * sinT); // 控制点\r\n        let finalX = parseInt(middlePoint.x - lineHeight * cosT);\r\n        let mixDistance = 10; // 设置最小距离\r\n        let lineDistance; // 点击到两点直线的距离\r\n        let bezierDistance; // 点击到贝塞尔曲线的距离\r\n        let parameterT; // 贝塞尔曲线参数T,与起始点相比\r\n        let CurveVertexX, CurveVertexY; // 贝塞尔曲线上的点\r\n\r\n        if (x1 == x2) {\r\n            // y1>y2 箭头向上\r\n            // 竖线\r\n            lineDistance = Math.abs(x0 - x1);\r\n            parameterT = Math.abs(y0 - y2) / Math.abs(y2 - y1);\r\n            CurveVertexX =\r\n                Math.pow(1 - parameterT, 2) * x2 +\r\n                2 * parameterT * (1 - parameterT) * finalX +\r\n                Math.pow(parameterT, 2) * x1;\r\n            CurveVertexY =\r\n                Math.pow(1 - parameterT, 2) * y2 +\r\n                2 * parameterT * (1 - parameterT) * finalY +\r\n                Math.pow(parameterT, 2) * y1;\r\n            bezierDistance = Math.abs(x0 - CurveVertexX);\r\n            if (bezierDistance <= mixDistance) {\r\n                return true;\r\n            }\r\n        } else if (y1 == y2) {\r\n            // 横线\r\n            lineDistance = Math.abs(y0 - y1);\r\n            parameterT = Math.abs(x0 - x2) / Math.abs(x2 - x1);\r\n            CurveVertexX =\r\n                Math.pow(1 - parameterT, 2) * x2 +\r\n                2 * parameterT * (1 - parameterT) * finalX +\r\n                Math.pow(parameterT, 2) * x1;\r\n            CurveVertexY =\r\n                Math.pow(1 - parameterT, 2) * y2 +\r\n                2 * parameterT * (1 - parameterT) * finalY +\r\n                Math.pow(parameterT, 2) * y1;\r\n            bezierDistance = Math.abs(y0 - CurveVertexY);\r\n            if (bezierDistance <= mixDistance) {\r\n                return true;\r\n            }\r\n        } else if (\r\n            (x0 < x2 && x0 > x1) ||\r\n            (x0 < x1 && x0 > x2) ||\r\n            (y0 < y2 && y0 > y1) ||\r\n            (y0 < y1 && y0 > y2)\r\n        ) {\r\n            // x0 y0点在两个圆点之间时计算bezierDistance\r\n            lineDistance =\r\n                2 *\r\n                Math.sqrt(\r\n                    perimeterHalf *\r\n                    (perimeterHalf - x1x2) *\r\n                    (perimeterHalf - x0x1) *\r\n                    (perimeterHalf - x0x2)\r\n                ) /\r\n                x1x2;\r\n            parameterT =\r\n                Math.sqrt(Math.pow(x0x2, 2) - Math.pow(lineDistance, 2)) / x1x2;\r\n            CurveVertexX =\r\n                Math.pow(1 - parameterT, 2) * x2 +\r\n                2 * parameterT * (1 - parameterT) * finalX +\r\n                Math.pow(parameterT, 2) * x1;\r\n            CurveVertexY =\r\n                Math.pow(1 - parameterT, 2) * y2 +\r\n                2 * parameterT * (1 - parameterT) * finalY +\r\n                Math.pow(parameterT, 2) * y1;\r\n            bezierDistance = Math.hypot(x0 - CurveVertexX, y0 - CurveVertexY);\r\n            if (bezierDistance <= mixDistance) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    onClick: function(event) {\r\n        Setting.prototype.SelectElementId = this.data.id;\r\n    },\r\n    update: function(beginPoint, endPoint) {\r\n        this.beginPoint = beginPoint;\r\n        this.endPoint = endPoint;\r\n    },\r\n    living: function() {\r\n        let distanceX = Math.abs(this.data.beginPoint.x - this.data.endPoint.x);\r\n        let distanceY = Math.abs(this.data.beginPoint.y - this.data.endPoint.y);\r\n        let distance = Math.hypot(distanceX, distanceY);\r\n        let SinT = (this.data.beginPoint.x - this.data.endPoint.x) / distance;\r\n        let CosT = (this.data.beginPoint.y - this.data.endPoint.y) / distance;\r\n        let offsetX = 0;\r\n        let offsetY = 0;\r\n        if (distance > 230) {\r\n            offsetX = (distance - 230) * SinT * 0.2;\r\n            offsetY = (distance - 230) * CosT * 0.2;\r\n            if (offsetX > 0 && offsetX > 30) {\r\n                offsetX = 30;\r\n            }\r\n            if (offsetX < 0 && offsetX < -30) {\r\n                offsetX = -30;\r\n            }\r\n            if (offsetY > 0 && offsetY > 30) {\r\n                offsetY = 30;\r\n            }\r\n            if (offsetY < 0 && offsetY < -30) {\r\n                offsetY = -30;\r\n            }\r\n        }\r\n        if (distance < 130) {\r\n            offsetX = (distance - 130) * SinT * 0.2;\r\n            offsetY = (distance - 130) * CosT * 0.2;\r\n        }\r\n        if (!this.data.beginPoint.isActive) {\r\n            this.data.beginPoint.x -= offsetX;\r\n            this.data.beginPoint.y -= offsetY;\r\n        }\r\n        if (!this.data.endPoint.isActive) {\r\n            this.data.endPoint.x += offsetX;\r\n            this.data.endPoint.y += offsetY;\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/elements/BezierLineElement.js","import { CircleElement } from \"../elements/CircleElement\";\r\nimport { RectElement } from \"../elements/RectElement\";\r\nimport { LineElement } from \"../elements/LineElement\";\r\nimport { ElementStore } from \"./ElementStore\";\r\nimport { BezierLineElement } from \"../elements/BezierLineElement\";\r\nimport { format } from \"util\";\r\n\r\nexport function ElementCreator() {}\r\nElementCreator.prototype = {\r\n    eleTypes: {\r\n        circle: function(data) {\r\n            return new CircleElement(data);\r\n        },\r\n        rect: function(data) {\r\n            return new RectElement(data);\r\n        },\r\n        line: function(data) {\r\n            return new LineElement(data);\r\n        },\r\n        BezierLine: function(data) {\r\n            return new BezierLineElement(data);\r\n        }\r\n    },\r\n    addElement: function(data) {\r\n        ElementStore.prototype.saveElement(\r\n            ElementCreator.prototype.eleTypes[data.eleType](data)\r\n        );\r\n    },\r\n    addLines: function(datas) {\r\n        let lines = [];\r\n        for (let l = 0; l < datas.length; l++) {\r\n            lines.push(ElementCreator.prototype.eleTypes[datas[l].eleType](datas[l]));\r\n        }\r\n        ElementStore.prototype.saveLines(lines);\r\n    },\r\n    addElements: function(datas) {\r\n        for (let l = 0; l < datas.length; l++) {\r\n            ElementCreator.prototype.addElement(datas[l]);\r\n        }\r\n    }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/ElementCreator.js","const ProcessData = {};\r\nProcessData.getCircleDatas = function(nodes) {\r\n    let circles = [];\r\n    for (let l = 0; l < nodes.length; l++) {\r\n        let c = {};\r\n        c.eleType = \"circle\";\r\n        c.x = Math.ceil(50 + Math.random() * 700);\r\n        c.y = Math.ceil(50 + Math.random() * 700);\r\n        c.width = 0;\r\n        c.height = 0;\r\n        if (nodes[l].name.length > 5) {\r\n            nodes[l].name = nodes[l].name.substring(0, 4) + \"...\";\r\n        }\r\n        c.name = nodes[l].name;\r\n        Object.assign(c, nodes[l]);\r\n        circles.push(c);\r\n    }\r\n    return circles;\r\n};\r\nProcessData.addCircleDatas = function(nodes, lastdata) {\r\n    let circles = [];\r\n    for (let l = 0; l < nodes.length; l++) {\r\n        let c = {};\r\n        c.eleType = \"circle\";\r\n        c.x = lastdata.x + Math.ceil(Math.random() * 50);\r\n        c.y = lastdata.y + Math.ceil(Math.random() * 50);\r\n        c.width = 0;\r\n        c.height = 0;\r\n        if (nodes[l].name.length > 5) {\r\n            nodes[l].name = nodes[l].name.substring(0, 4) + \"...\";\r\n        }\r\n        c.name = nodes[l].name;\r\n        Object.assign(c, nodes[l]);\r\n        circles.push(c);\r\n    }\r\n    return circles;\r\n};\r\nProcessData.getRectDatas = function(nodes) {\r\n    let rects = [];\r\n    for (let l = 0; l < nodes.length; l++) {\r\n        let rect = {};\r\n        rect.eleType = \"rect\";\r\n        rect.x = 50 + Math.random() * 700;\r\n        rect.y = 50 + Math.random() * 700;\r\n        rect.radius = 20;\r\n        rect.width = 50;\r\n        rect.height = 30;\r\n        Object.assign(rect, nodes[l]);\r\n        rects.push(rect);\r\n    }\r\n    return rects;\r\n};\r\nProcessData.getLineDatas = (nodes, relations) => {\r\n    let lines = [];\r\n    for (let l = 0; l < relations.length; l++) {\r\n        let line = {};\r\n        line.eleType = ProcessData.getLineType(relations[l], relations);\r\n        let beginPointIndex = ProcessData.getTargetPoint(\r\n            nodes,\r\n            relations[l].startNode\r\n        );\r\n        let endPointIndex = ProcessData.getTargetPoint(nodes, relations[l].endNode);\r\n        if (beginPointIndex == -1 || endPointIndex == -1) {\r\n            alert(\"-1\");\r\n        }\r\n        line.beginPoint = nodes[beginPointIndex];\r\n        line.endPoint = nodes[endPointIndex];\r\n        line.rel = relations[l].type;\r\n        Object.assign(line, relations[l]);\r\n        lines.push(line);\r\n    }\r\n    return lines;\r\n};\r\nProcessData.getTargetPoint = function(nodes, id) {\r\n    for (let l = 0; l < nodes.length; l++) {\r\n        if (nodes[l].id === id) {\r\n            return l;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\nProcessData.getLineType = function(rel, relations) {\r\n    for (let l = 0; l < relations.length; l++) {\r\n        if (\r\n            relations[l].endNode == rel.startNode &&\r\n            relations[l].startNode == rel.endNode\r\n        ) {\r\n            return \"BezierLine\";\r\n        }\r\n    }\r\n    return \"line\";\r\n};\r\nProcessData.test = function() {\r\n    alert(\"datas\");\r\n};\r\nexport default ProcessData;\n\n\n// WEBPACK FOOTER //\n// ./src/components/graphCanvas/utils/ProcessData.js","<template>\r\n  <div ref=\"canvas_container\" class=\"canvas_container\">\r\n    \r\n    <p ref=\"info\" class=\"info\">{{src}}</p>\r\n    <div class=\"canvas_parent\" ref=\"canvas_parent\">\r\n      <span class=\"iconfont icon-fanhui backStart\" @click=\"backToStart\"></span>\r\n      <canvas ref=\"canvas\" width=\"800\" height=\"800\" class=\"canvas\"></canvas>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { RoleController } from \"./RoleController\";\r\nimport { EventHandler } from \"./utils/EventHandler\";\r\nimport { ElementCreator } from \"./utils/ElementCreator\";\r\nimport ProcessData from \"./utils/ProcessData\";\r\nimport { ElementStore } from \"./utils/ElementStore\";\r\nimport Setting from \"./utils/setting\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Graph\",\r\n  data() {\r\n    return {\r\n      nodes: [\r\n        {\r\n          id: 5,\r\n          name: \"C语言\",\r\n          src: \"c语言\"\r\n        },\r\n        {\r\n          id: 12,\r\n          name: \"ios\",\r\n          src: \"ios系统\"\r\n        },\r\n        {\r\n          id: 6,\r\n          name: \"java\",\r\n          src: \"java语言\"\r\n        },\r\n        {\r\n          id: 7,\r\n          name: \"Android\",\r\n          src: \"Android操作系统\"\r\n        },\r\n        {\r\n          id: 8,\r\n          name: \"前端\",\r\n          src: \"基于浏览器的前端\"\r\n        },\r\n        {\r\n          id: 9,\r\n          name: \"vue\",\r\n          src: \"vue框架\"\r\n        },\r\n\r\n        {\r\n          id: 10,\r\n          name: \"react\",\r\n          src: \"react框架\"\r\n        },\r\n        {\r\n          id: 11,\r\n          name: \"JQuery\",\r\n          src: \"Jquery是一个js库\"\r\n        }\r\n      ],\r\n      relationships: [\r\n        {\r\n          id: 214,\r\n          startNode: 5,\r\n          endNode: 12,\r\n          type: \"用到\"\r\n        },\r\n        {\r\n          id: 202,\r\n          startNode: 11,\r\n          endNode: 8,\r\n          type: \"属于\"\r\n        },\r\n        {\r\n          id: 234,\r\n          startNode: 10,\r\n          endNode: 8,\r\n          type: \"属于\"\r\n        },\r\n        {\r\n          id: 236,\r\n          startNode: 9,\r\n          endNode: 8,\r\n          type: \"属于\"\r\n        },\r\n        {\r\n          id: 421,\r\n          startNode: 6,\r\n          endNode: 5,\r\n          type: \"JNI调用\"\r\n        },\r\n        {\r\n          id: 425,\r\n          startNode: 6,\r\n          endNode: 7,\r\n          type: \"语言\"\r\n        },\r\n        {\r\n          id: 416,\r\n          startNode: 7,\r\n          endNode: 6,\r\n          type: \"产品\"\r\n        }\r\n      ],\r\n      src: \"\",\r\n      form: {},\r\n      currentCircle: \"\",\r\n      circleDatas: [],\r\n      roleCtrl: \"\",\r\n      canvas_container: {},\r\n      info: {},\r\n      canvas_parent: {},\r\n      canvas: {},\r\n      oldNodeId: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    getNewDatas(datas) {\r\n      //请求到的数据与本地数据进行比对\r\n      let newDatas = [];\r\n      if (datas.length == 0) {\r\n        return newDatas;\r\n      }\r\n\r\n      for (let d = 0; d < datas.length; d++) {\r\n        let isNew = true;\r\n        for (let l = 0; l < ElementStore.prototype.elements.length; l++) {\r\n          if (datas[d].id == ElementStore.prototype.elements[l].data.id) {\r\n            isNew = false;\r\n            break;\r\n          }\r\n        }\r\n        if (isNew) {\r\n          newDatas.push(datas[d]);\r\n        }\r\n      }\r\n      if (newDatas.length == 0) {\r\n        //alert(\"没有请求到新数据\");\r\n      }\r\n      return newDatas;\r\n    },\r\n    addCircleEles(nodes, relationships) {\r\n      let circleDatas = null;\r\n      if (this.currentCircle != \"\") {\r\n        circleDatas = ProcessData.addCircleDatas(nodes, this.currentCircle);\r\n      } else {\r\n        circleDatas = ProcessData.getCircleDatas(nodes);\r\n      }\r\n      ElementStore.prototype.addCircles(circleDatas);\r\n      this.circleDatas = this.circleDatas.concat(circleDatas);\r\n      ElementCreator.prototype.addElements(circleDatas);\r\n      this.addLines(relationships);\r\n    },\r\n    addLines(relationships) {\r\n      let lines = ProcessData.getLineDatas(\r\n        ElementStore.prototype.circleDatas,\r\n        relationships\r\n      );\r\n      ElementCreator.prototype.addLines(lines);\r\n    },\r\n    backToStart() {\r\n      this.roleCtrl.backToStart();\r\n    },\r\n    initHandlerListener() {\r\n      EventHandler.prototype.listen(\"loadNewData\", data => {\r\n        this.currentCircle = data;\r\n        //this.getNodesRels(data.id);\r\n      });\r\n      EventHandler.prototype.listen(\"showInfo\", data => {\r\n        if (data.eleType == \"circle\") {\r\n          this.showProperties(data);\r\n        }\r\n      });\r\n      EventHandler.prototype.listen(\"showDetails\", data => {\r\n        if (data == false) {\r\n          ElementStore.prototype.info.style.display = \"none\";\r\n        } else {\r\n          if (\r\n            data.src == undefined &&\r\n            (data.eleType == \"line\" || data.eleType == \"BezierLine\")\r\n          ) {\r\n            this.src = data.type;\r\n            ElementStore.prototype.info.style.position = \"absolute\";\r\n            ElementStore.prototype.info.style.left =\r\n              //this.canvas_parent.offsetLeft +\r\n              parseInt((data.beginPoint.x + data.endPoint.x) / 2) +\r\n              this.roleCtrl.translateX +\r\n              \"px\";\r\n            ElementStore.prototype.info.style.top =\r\n              // this.canvas_parent.offsetTop +\r\n              parseInt((data.beginPoint.y + data.endPoint.y) / 2) +\r\n              this.roleCtrl.translateY +\r\n              \"px\";\r\n            ElementStore.prototype.info.innerText = data.type;\r\n          } else {\r\n            this.src = data.src;\r\n            ElementStore.prototype.info.style.position = \"absolute\";\r\n            ElementStore.prototype.info.style.left =\r\n              //this.canvas_parent.offsetLeft +\r\n              parseInt(data.x) + this.roleCtrl.translateX + \"px\";\r\n            ElementStore.prototype.info.style.top =\r\n              //this.canvas_parent.offsetTop +\r\n              Setting.prototype.CircleRadius +\r\n              parseInt(data.y) +\r\n              this.roleCtrl.translateY +\r\n              \"px\";\r\n            ElementStore.prototype.info.innerText = data.src;\r\n          }\r\n          ElementStore.prototype.info.style.display = \"block\";\r\n        }\r\n      });\r\n      EventHandler.prototype.listen(\"drag\", (x, y, eventType) => {\r\n        this.roleCtrl.onDrag(x, y, eventType);\r\n      });\r\n    },\r\n    initCanvas() {\r\n      this.$nextTick(() => {\r\n        this.canvas.width = this.canvas_parent.offsetWidth;\r\n        this.canvas.height = this.canvas_parent.offsetHeight;\r\n      });\r\n\r\n      document.oncontextmenu = new Function(\"event.returnValue=false;\");\r\n      document.onselectstart = new Function(\"event.returnValue=false;\");\r\n      this.roleCtrl = new RoleController(this.canvas);\r\n      window.addEventListener(\r\n        \"resize\",\r\n        () => {\r\n          this.canvas.width = this.canvas_parent.offsetWidth;\r\n          this.canvas.height = this.canvas_parent.offsetHeight;\r\n        },\r\n        false\r\n      );\r\n      window.addEventListener(\r\n        \"mouseup\",\r\n        event => EventHandler.prototype.handleMouseUp(event),\r\n        false\r\n      );\r\n      this.canvas.addEventListener(\r\n        \"mousedown\",\r\n        event => EventHandler.prototype.handleMouseDown(event),\r\n        false\r\n      );\r\n      this.canvas.addEventListener(\r\n        \"mousemove\",\r\n        event => EventHandler.prototype.handleMouseMove(event),\r\n        false\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    this.canvas_container = document.querySelector(\".canvas_container\");\r\n    ElementStore.prototype.info = this.$refs.info;\r\n    this.canvas_parent = document.querySelector(\".canvas_parent\");\r\n    this.canvas = document.querySelector(\".canvas\");\r\n    this.initCanvas();\r\n    this.initHandlerListener();\r\n    this.addCircleEles(this.nodes, this.relationships);\r\n  },\r\n  created() {}\r\n  //{\"success\":true,\"msg\":\"查询成功.\",\"nodes\":[{\"id\":\"/0/86\",\"name\":\"Types\",\"iconSkin\":\"iconFolder\",\"nodeClass\":\"Object\",\"typeDefinition\":\"/0/61\",\"src\":\"{\\\"NodeClass\\\":\\\"Object\\\",\\\"Description\\\":\\\"The browse entry point when looking for types in the server address space.\\\",\\\"BrowseName\\\":\\\"Types\\\",\\\"DisplayName\\\":\\\"Types\\\",\\\"label\\\":\\\"0\\\",\\\"id\\\":4280,\\\"uri\\\":\\\"/0/86\\\"}\",\"typeDefinitionSrc\":\"{\\\"nodeValues\\\":{\\\"NodeClass\\\":\\\"Object Type\\\",\\\"Description\\\":\\\"The type for objects that organize other nodes.\\\",\\\"BrowseName\\\":\\\"FolderType\\\",\\\"DisplayName\\\":\\\"FolderType\\\",\\\"isAbstract\\\":\\\"false\\\",\\\"uri\\\":\\\"/0/61\\\"},\\\"relationValue\\\":null,\\\"nodeUri\\\":\\\"/0/61\\\",\\\"relation\\\":\\\"/0/40\\\"}\",\"modellingSrc\":null,\"dataTypeSrc\":null,\"relationSrc\":null},{\"id\":\"/0/61\",\"name\":\"FolderType\",\"iconSkin\":\"iconObjectType\",\"nodeClass\":\"Object Type\",\"typeDefinition\":null,\"src\":\"{\\\"NodeClass\\\":\\\"Object Type\\\",\\\"Description\\\":\\\"The type for objects that organize other nodes.\\\",\\\"BrowseName\\\":\\\"FolderType\\\",\\\"DisplayName\\\":\\\"FolderType\\\",\\\"label\\\":\\\"0\\\",\\\"id\\\":8424,\\\"isAbstract\\\":\\\"false\\\",\\\"uri\\\":\\\"/0/61\\\"}\",\"typeDefinitionSrc\":null,\"modellingSrc\":null,\"dataTypeSrc\":null,\"relationSrc\":null},{\"id\":\"/0/90\",\"name\":\"DataTypes\",\"iconSkin\":\"iconFolder\",\"nodeClass\":\"Object\",\"typeDefinition\":\"/0/61\",\"src\":\"{\\\"NodeClass\\\":\\\"Object\\\",\\\"Description\\\":\\\"The browse entry point when looking for data types in the server address space.\\\",\\\"BrowseName\\\":\\\"DataTypes\\\",\\\"DisplayName\\\":\\\"DataTypes\\\",\\\"label\\\":\\\"0\\\",\\\"id\\\":8248,\\\"uri\\\":\\\"/0/90\\\"}\",\"typeDefinitionSrc\":\"{\\\"nodeValues\\\":{\\\"NodeClass\\\":\\\"Object Type\\\",\\\"Description\\\":\\\"The type for objects that organize other nodes.\\\",\\\"BrowseName\\\":\\\"FolderType\\\",\\\"DisplayName\\\":\\\"FolderType\\\",\\\"isAbstract\\\":\\\"false\\\",\\\"uri\\\":\\\"/0/61\\\"},\\\"relationValue\\\":null,\\\"nodeUri\\\":\\\"/0/61\\\",\\\"relation\\\":\\\"/0/40\\\"}\",\"modellingSrc\":null,\"dataTypeSrc\":null,\"relationSrc\":null},{\"id\":\"/0/24\",\"name\":\"BaseDataType\",\"iconSkin\":\"iconDataType\",\"nodeClass\":\"Data Type\",\"typeDefinition\":null,\"src\":\"{\\\"NodeClass\\\":\\\"Data Type\\\",\\\"Description\\\":\\\"Describes a value that can have any valid DataType.\\\",\\\"BrowseName\\\":\\\"BaseDataType\\\",\\\"DisplayName\\\":\\\"BaseDataType\\\",\\\"label\\\":\\\"0\\\",\\\"id\\\":8328,\\\"isAbstract\\\":\\\"true\\\",\\\"uri\\\":\\\"/0/24\\\"}\",\"typeDefinitionSrc\":null,\"modellingSrc\":null,\"dataTypeSrc\":null,\"relationSrc\":null}],\"relationships\":[{\"id\":\"32279\",\"properties\":{},\"type\":\"R-/0/35\",\"startNode\":\"/0/86\",\"endNode\":\"/0/90\"},{\"id\":\"13319\",\"properties\":{},\"type\":\"R-/0/40\",\"startNode\":\"/0/90\",\"endNode\":\"/0/61\"},{\"id\":\"13831\",\"properties\":{},\"type\":\"R-/0/35\",\"startNode\":\"/0/90\",\"endNode\":\"/0/24\"}]}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.canvas_container {\r\n  position: relative;\r\n  border: 1px dashed #ccc;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.canvas_parent {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.info {\r\n  width: 300px;\r\n  padding: 10px;\r\n  border-radius: 20px;\r\n  border: 1px solid #333;\r\n  position: absolute;\r\n  word-break: break-all;\r\n  left: 0px;\r\n  display: none;\r\n  z-index: 20;\r\n  text-align: center;\r\n  background: #ffffff;\r\n  top: 0px;\r\n}\r\n.backStart {\r\n  z-index: 30;\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 30px;\r\n  font-size: 30px;\r\n}\r\n.backStart:hover {\r\n  color: #ff0000;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/graphCanvas/graph.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"canvas_container\",staticClass:\"canvas_container\"},[_c('p',{ref:\"info\",staticClass:\"info\"},[_vm._v(_vm._s(_vm.src))]),_vm._v(\" \"),_c('div',{ref:\"canvas_parent\",staticClass:\"canvas_parent\"},[_c('span',{staticClass:\"iconfont icon-fanhui backStart\",on:{\"click\":_vm.backToStart}}),_vm._v(\" \"),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":\"800\",\"height\":\"800\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2621ae02\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/graphCanvas/graph.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2621ae02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./graph.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graph.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graph.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2621ae02\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./graph.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2621ae02\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/graphCanvas/graph.vue\n// module id = null\n// module chunks = ","import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport HelloWorld from \"@/components/HelloWorld\";\nimport graph from \"@/components/graphCanvas/graph\";\nVue.use(Router);\n\nexport default new Router({\n    routes: [{\n        path: \"/\",\n        name: \"graph\",\n        component: graph\n    }]\n});\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}
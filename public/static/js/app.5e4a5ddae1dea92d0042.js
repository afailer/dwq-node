webpackJsonp([1],{"5HAy":function(t,e){},"6Cqs":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("6Cqs")},null,null).exports,r=a("/ocq"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},s,!1,function(t){a("Ugm9")},"data-v-694cd902",null).exports;var l=a("Gu7T"),p=a.n(l);function d(){}function h(t){var e=this;this.canvas=t,h.prototype.pen=t.getContext("2d"),this.main_loop=function(){h.prototype.pen.clearRect(0,0,9999,9999);for(var t=0;t<d.prototype.elements.length;t++)d.prototype.elements[t].living(),d.prototype.elements[t].draw(h.prototype.pen);requestAnimationFrame(e.main_loop)},this.main_loop(),this.currentX=0,this.currentY=0,this.onDrag=function(t,a,o){if("down"==o)e.currentX=0,e.currentY=0;else{var i=t-e.currentX,n=a-e.currentY,r=!1;h.prototype.translateX+i<0?(h.prototype.translateX+=i,e.currentX=t,r=!0):i=0,h.prototype.translateY+n<0?(h.prototype.translateY+=n,e.currentY=a,r=!0):n=0,r&&h.prototype.pen.translate(i,n)}},this.backToStart=function(){h.prototype.pen.translate(-h.prototype.translateX,-h.prototype.translateY),h.prototype.translateX=0,h.prototype.translateY=0,d.prototype.resetData()}}d.prototype={elements:[],circleDatas:[],info:{},oldNodeId:"",addCircles:function(t){d.prototype.circleDatas=d.prototype.circleDatas.concat(t)},saveLines:function(t){var e;(e=d.prototype.elements).splice.apply(e,[0,0].concat(p()(t)))},saveElement:function(t){d.prototype.elements.push(t)},getElements:function(t){for(var e=[],a=0;a<d.prototype.elements.length;a++)d.prototype.elements[a].data.type==t&&e.push(d.prototype.elements[a]);return e},resetData:function(){for(var t=0;t<d.prototype.elements.length;t++)"circle"==d.prototype.elements[t].data.eleType&&(d.prototype.elements[t].data.x=parseInt(50+700*Math.random()),d.prototype.elements[t].data.y=parseInt(50+700*Math.random()),d.prototype.elements[t].old_x=d.prototype.elements[t].data.x,d.prototype.elements[t].old_y=d.prototype.elements[t].data.y)}},h.prototype={translateX:0,translateY:0};var c={};c.prototype={defaultBorder:.1,defaultBorderColor:"#ccc",RectBgColor:"#f0f",RectWidth:50,RectHeight:30,CircleBgColor:"#48D1CC",CircleRadius:26,CircleHoverBgColor:"#40E0D0",CircleSelectColor:"#5CACEE",CircleTextColor:"#333",CircleTextHoverColor:"#4876FF",CircleTextSelectColor:"#8B008B",CircleTextFont:"12",CircleTextSelectFont:"18",lineWidth:1,LineColor:"#333",lineSelectWidth:2,lineSelectColor:"#0fff00",lineHoverColor:"#9AFF9A",lineLabelWidth:50,lineLabelHeight:10,lineLabelBg:"#FFFFFF",lineTextMaxLength:5,lineLabelText:"#333",lineLabelTextFont:"14",lineLabelTextSelectFont:"18",hoverElementId:0,SelectElementId:0,bevel:10,bevelAngle:Math.PI/4};var y=c;function u(){}u.prototype={activeEle:"",startDragEvent:{onDrag:!1},startTime:0,clientList:{},listen:function(t,e){u.prototype.clientList[t]||(u.prototype.clientList[t]=[],u.prototype.clientList[t].push(e))},trigger:function(){var t=Array.prototype.shift.call(arguments),e=u.prototype.clientList[t];if(!e||0===e.length)return!1;for(var a=0;a<e.length;a++)e[a].apply(this,arguments)},handleClick:function(t){for(var e=d.prototype.elements.length-1;e>=0;e--)d.prototype.elements[e].caculate(t)&&alert("ok")},handleMouseDown:function(t){for(var e=d.prototype.elements.length-1;e>=0;e--)if(d.prototype.elements[e].caculate(t))return u.prototype.activeEle=d.prototype.elements[e],u.prototype.activeEle.data.isActive=!0,(new Date).getTime()-u.prototype.startTime<300&&d.prototype.elements[e].onDoubleClick(),void(u.prototype.startTime=(new Date).getTime());""==u.prototype.activeEle&&(u.prototype.trigger("drag",0,0,"down"),u.prototype.startDragEvent.onDrag=!0,u.prototype.startDragEvent.offsetX=t.offsetX,u.prototype.startDragEvent.offsetY=t.offsetY)},handleMouseUp:function(){""!=u.prototype.activeEle&&(new Date).getTime()-this.startTime<300&&u.prototype.activeEle.onClick(),""!=u.prototype.activeEle&&(u.prototype.activeEle.data.isActive=!1),this.activeEle="",u.prototype.startDragEvent.onDrag=!1},handleMouseMove:function(t){""!=this.activeEle&&this.activeEle.update(t),u.prototype.startDragEvent.onDrag&&u.prototype.onDrag(t);for(var e=!1,a=d.prototype.elements.length-1;a>=0;a--){if(d.prototype.elements[a].caculate(t))return y.prototype.hoverElementId=d.prototype.elements[a].data.id,u.prototype.trigger("showDetails",d.prototype.elements[a].data),void(e=!0);a==d.prototype.elements.length-1&&(y.prototype.hoverElementId=0)}e||u.prototype.trigger("showDetails",!1)},onDrag:function(t){var e=t.offsetX-u.prototype.startDragEvent.offsetX,a=t.offsetY-u.prototype.startDragEvent.offsetY;u.prototype.trigger("drag",e,a)}};var f=a("KmDb"),v=a.n(f);function g(){}function m(t){this.old_x=t.x,this.old_y=t.y,this.isActive=!1,this.data=t}function x(t){this.old_x=t.x,this.old_y=t.y,this.isActive=!1,this.data=t}function b(t){this.data=t}function P(t){this.data=t}g.prototype={changeTragetElement:function(t){for(var e=0;e<d.prototype.elements.length;e++)if(d.prototype.elements[e].data.id!=t.data.id&&d.prototype.elements[e].data.x){var a=Math.abs(t.data.x-d.prototype.elements[e].data.x),o=Math.abs(t.data.y-d.prototype.elements[e].data.y),i=v()(a,o),n=(t.data.x-d.prototype.elements[e].data.x)/i,r=(t.data.y-d.prototype.elements[e].data.y)/i;i<2*y.prototype.CircleRadius&&(d.prototype.elements[e].data.x=d.prototype.elements[e].data.x-(2*y.prototype.CircleRadius-i)*n*.1,d.prototype.elements[e].data.y=d.prototype.elements[e].data.y-(2*y.prototype.CircleRadius-i)*r*.1)}},livingCycle:function(){for(var t="",e=0;e<d.prototype.elements.length;e++)d.prototype.elements[e].data.isActive&&(t=d.prototype.elements[e]);if(""!=t)for(var a=0;a<d.prototype.elements.length;a++)d.prototype.elements[a].data.linkNum==t.data.linkNum&&d.prototype.elements[a].data.id!=t.data.id&&d.prototype.elements[a].data;var o=Math.abs(this.data.beginPoint.x-this.data.endPoint.x),i=Math.abs(this.data.beginPoint.y-this.data.endPoint.y),n=v()(o,i),r=(this.data.beginPoint.x-this.data.endPoint.x)/n,s=this.data.beginPoint.y-this.data.endPoint.y;n>300&&(this.data.endPoint.x=this.data.endPoint.x+(n-300)*r*.01,this.data.endPoint.y=this.data.endPoint.y+(n-300)*s*.01)}},m.prototype={caculate:function(t){var e=t.offsetX-h.prototype.translateX-this.data.x,a=t.offsetY-h.prototype.translateY-this.data.y;return Math.sqrt(e*e+a*a)<y.prototype.CircleRadius},draw:function(t){t.beginPath(),t.strokeStyle=y.prototype.defaultBorderColor,t.arc(this.data.x,this.data.y,y.prototype.CircleRadius,0,2*Math.PI,!1),t.fillStyle=y.prototype.CircleBgColor,this.data.id==y.prototype.hoverElementId&&(t.fillStyle=y.prototype.CircleHoverBgColor),this.data.id==y.prototype.SelectElementId&&(t.fillStyle=y.prototype.CircleSelectColor),t.fill(),t.stroke();var e=this.data.name;t.fillStyle=y.prototype.CircleTextColor,t.font=y.prototype.CircleTextFont+"px Arial",this.data.id==y.prototype.hoverElementId&&(t.fillStyle=y.prototype.CircleTextHoverColor,t.font=y.prototype.CircleTextSelectFont+"px Arial"),this.data.id==y.prototype.SelectElementId&&(t.fillStyle=y.prototype.CircleTextSelectColor,t.font=y.prototype.CircleTextSelectFont+"px Arial"),t.textAlign="center",t.textBaseline="middle",t.fillText(e,this.data.x,this.data.y),t.closePath()},update:function(t){this.data.x=t.offsetX-h.prototype.translateX,this.data.y=t.offsetY-h.prototype.translateY,this.data.x-y.prototype.CircleRadius<0&&(this.data.x=y.prototype.CircleRadius),this.data.y-y.prototype.CircleRadius<0&&(this.data.y=y.prototype.CircleRadius)},living:function(){var t=.92*(this.data.x-this.old_x),e=.92*(this.data.y-this.old_y);this.old_x=this.data.x,this.old_y=this.data.y,this.data.isActive||(this.data.x+=t,this.data.y+=e),this.data.x-y.prototype.CircleRadius<0&&(this.data.x=y.prototype.CircleRadius,this.old_x=this.data.x+.2*t),this.data.y-y.prototype.CircleRadius<0&&(this.data.y=y.prototype.CircleRadius,this.old_y=this.data.y+.2*e),g.prototype.changeTragetElement(this)},addChildren:function(t){C.prototype.addElements(t)},isDoubleClick:!1,onClick:function(){var t=this;this.timer=setTimeout(function(){t.isDoubleClick||(y.prototype.SelectElementId!=t.data.id?(y.prototype.SelectElementId=t.data.id,console.log(t.data),u.prototype.trigger("showInfo",t.data)):y.prototype.SelectElementId=-1),t.isDoubleClick=!1},300)},onDoubleClick:function(){clearTimeout(this.timer),this.isDoubleClick=!0,u.prototype.trigger("loadNewData",this.data)}},x.prototype={caculate:function(t){var e=t.offsetX-(this.data.x-this.data.width/2),a=t.offsetY-(this.data.y-this.data.height/2);if(e>0&&e<this.data.width&&a>0&&a<this.data.height)return!0},draw:function(t){t.beginPath(),t.lineWidth=.1,t.rect(this.data.x-this.data.width/2,this.data.y-this.data.height/2,this.data.width,this.data.height),t.fillStyle=this.data.bg,t.fill(),t.stroke()},update:function(t){this.data.x=t.offsetX,this.data.y=t.offsetY,this.data.x-this.data.width/2<0&&(this.data.x=this.data.width/2),this.data.y-this.data.height/2<0&&(this.data.y=this.data.height/2)},onClick:function(){u.prototype.trigger("eleClick","aaa")},living:function(){var t=.92*(this.data.x-this.old_x),e=.92*(this.data.y-this.old_y);this.old_x=this.data.x,this.old_y=this.data.y,this.data.isActive||(this.data.x+=t,this.data.y+=e),this.data.x-this.data.radius<0&&(this.data.x=this.data.radius,this.old_x=this.data.x+.2*t),this.data.y-this.data.radius<0&&(this.data.y=this.data.radius,this.old_y=this.data.y+.2*e),g.prototype.changeTragetElement(this)}},b.prototype={draw:function(t){t.beginPath(),t.lineWidth=y.prototype.lineWidth,t.strokeStyle=y.prototype.LineColor,this.data.id==y.prototype.hoverElementId&&(console.log(this.data.id+"----"),t.lineWidth=y.prototype.lineSelectWidth,t.strokeStyle=y.prototype.lineHoverColor),this.data.id==y.prototype.SelectElementId&&(t.lineWidth=y.prototype.lineSelectWidth,t.strokeStyle=y.prototype.lineSelectColor),t.moveTo(this.data.endPoint.x,this.data.endPoint.y),t.lineTo(this.data.beginPoint.x+this.data.beginPoint.width/2,this.data.beginPoint.y+this.data.beginPoint.height/2),t.stroke(),t.closePath();var e,a,o,i,n,r,s,l=this.data.endPoint.x,p=this.data.endPoint.y,d=this.data.beginPoint.x+this.data.beginPoint.width/2,h=this.data.beginPoint.y+this.data.beginPoint.height/2,c=v()(h-p,d-l),u=y.prototype.CircleRadius,f=l+u*(d-l)/c,g=p+u*(h-p)/c,m=y.prototype.bevel,x=y.prototype.bevelAngle;d>=l?(e=Math.asin((h-p)/c),s=c/2*Math.sin(e),r=c/2*Math.cos(e)):(e=Math.PI-Math.asin((h-p)/c),s=c/2*Math.sin(e),r=c/2*Math.cos(e)),d>=l&&(a=m*Math.cos(e-x/2),i=m*Math.sin(e-x/2),o=m*Math.cos(e+x/2),n=m*Math.sin(e+x/2)),d<l&&(a=m*Math.cos(Math.PI-e+x/2),i=m*Math.sin(Math.PI-e+x/2),o=m*Math.cos(Math.PI-e-x/2),n=m*Math.sin(Math.PI-e-x/2)),t.beginPath(),t.lineWidth=y.prototype.lineWidth,t.fillStyle=y.prototype.LineColor,this.data.id==y.prototype.hoverElementId&&(t.fillStyle=y.prototype.lineHoverColor),this.data.id==y.prototype.SelectElementId&&(t.fillStyle=y.prototype.lineSelectColor),d>=l&&(t.moveTo(f+a,g+i),t.lineTo(f,g),t.lineTo(f+o,g+n)),d<l&&(t.moveTo(f-a,g+i),t.lineTo(f,g),t.lineTo(f-o,g+n)),t.fill(),t.closePath();var b=y.prototype.lineLabelWidth,P=y.prototype.lineLabelHeight,C=void 0,M=void 0,_=v()(b,P)/2,T=Math.asin(P/2/_);t.save(),t.beginPath(),d>=l?(C=l+r-_*Math.cos(e+T),M=p+s-_*Math.sin(e+T),t.translate(C,M),t.rotate(e)):(C=l+r+_*Math.cos(e+T),M=p+s+_*Math.sin(e+T),t.translate(C,M),t.rotate(e-Math.PI)),this.rectOriginX=C,this.rectOriginY=M,this.rectWidth=b,this.rectHeight=P,t.rect(0,0,b,P),t.fillStyle=y.prototype.lineLabelBg,t.fill(),t.fillStyle=y.prototype.lineLabelText,t.font=y.prototype.lineLabelTextFont+"px Arial",this.data.id==y.prototype.hoverElementId&&(t.fillStyle=y.prototype.lineHoverColor,t.font=y.prototype.lineLabelTextSelectFont+"px Arial"),this.data.id==y.prototype.SelectElementId&&(t.fillStyle=y.prototype.lineSelectColor,t.font=y.prototype.lineLabelTextSelectFont+"px Arial");var E=y.prototype.lineTextMaxLength;t.textAlign="center",t.textBaseline="middle",this.data.rel.length>=E&&(this.data.rel=this.data.rel.replace(this.data.rel.substring(E),"...")),t.fillText(this.data.rel,b/2,P/2),t.closePath(),t.restore()},caculate:function(t){var e=this.data.endPoint.x,a=this.data.endPoint.y,o=this.data.beginPoint.x,i=this.data.beginPoint.y,n=t.offsetX-h.prototype.translateX,r=t.offsetY-h.prototype.translateY,s=v()(i-a,o-e),l=v()(r-a,n-e),p=v()(i-r,o-n),d=(s+l+p)/2,c=void 0;if(e==o){if(c=Math.abs(n-e),e==n)return!1}else if(a==i){if(c=Math.abs(r-a),a==r)return!1}else{if(e>o&&(n<=o||n>=e))return!1;if(e<o&&(n<=e||n>=o))return!1;c=2*Math.sqrt(d*(d-s)*(d-l)*(d-p))/s}if(c<=10)return!0},onClick:function(t){y.prototype.SelectElementId=this.data.id},update:function(t,e){this.beginPoint=t,this.endPoint=e},living:function(){var t=Math.abs(this.data.beginPoint.x-this.data.endPoint.x),e=Math.abs(this.data.beginPoint.y-this.data.endPoint.y),a=v()(t,e),o=(this.data.beginPoint.x-this.data.endPoint.x)/a,i=(this.data.beginPoint.y-this.data.endPoint.y)/a,n=0,r=0;this.data.beginPoint.id==y.prototype.SelectElementId||this.data.endPoint.id==y.prototype.SelectElementId||a>250&&(r=(a-250)*i*.2,(n=(a-250)*o*.2)>0&&n>30&&(n=30),n<0&&n<-30&&(n=-30),r>0&&r>30&&(r=30),r<0&&r<-30&&(r=-30)),a<150&&(n=(a-150)*o*.2,r=(a-150)*i*.2),this.data.beginPoint.isActive||this.data.beginPoint.id!=y.prototype.SelectElementId&&(this.data.beginPoint.x-=n,this.data.beginPoint.y-=r),this.data.endPoint.isActive||this.data.endPoint.id!=y.prototype.SelectElementId&&(this.data.endPoint.x+=n,this.data.endPoint.y+=r)}},P.prototype={draw:function(t){var e=(this.data.beginPoint.x+this.data.endPoint.x)/2,a=(this.data.beginPoint.y+this.data.endPoint.y)/2,o=v()(Math.abs(this.data.endPoint.x-this.data.beginPoint.x),Math.abs(this.data.endPoint.y-this.data.beginPoint.y)),i=(this.data.endPoint.x-this.data.beginPoint.x)/o,n=(this.data.endPoint.y-this.data.beginPoint.y)/o,r=e,s=a;t.beginPath(),t.lineWidth=y.prototype.lineWidth,t.strokeStyle=y.prototype.LineColor,this.data.id==y.prototype.hoverElementId&&(t.lineWidth=y.prototype.lineSelectWidth,t.strokeStyle=y.prototype.lineHoverColor),this.data.id==y.prototype.SelectElementId&&(t.lineWidth=y.prototype.lineSelectWidth,t.strokeStyle=y.prototype.lineSelectColor),t.moveTo(this.data.beginPoint.x,this.data.beginPoint.y);var l=parseInt(s+60*i),p=parseInt(r-60*n);t.quadraticCurveTo(p,l,this.data.endPoint.x,this.data.endPoint.y),t.stroke();var d,h,c,u,f,g,m=this.data.endPoint.x,x=this.data.endPoint.y,b=p,P=l,C=this.data.beginPoint.x,M=this.data.beginPoint.y,_=y.prototype.CircleRadius,T=m+_*(b-m)/v()(P-x,b-m),E=x+_*(P-x)/v()(P-x,b-m),S=y.prototype.bevel,w=y.prototype.bevelAngle,I=.25*(this.data.endPoint.x+this.data.beginPoint.x)+.5*p,D=.25*(this.data.endPoint.y+this.data.beginPoint.y)+.5*l;d=b>=m?Math.asin((l-x)/v()(l-x,p-m))+Math.PI/10:Math.PI-Math.asin((l-x)/v()(l-x,p-m))+Math.PI/10,b<m&&(h=S*Math.cos(Math.PI-d+w/2),u=S*Math.sin(Math.PI-d+w/2),c=S*Math.cos(Math.PI-d-w/2),f=S*Math.sin(Math.PI-d-w/2)),b>=m&&(h=S*Math.cos(d-w/2),u=S*Math.sin(d-w/2),c=S*Math.cos(d+w/2),f=S*Math.sin(d+w/2)),t.lineWidth=y.prototype.lineWidth,t.fillStyle=y.prototype.LineColor,t.save(),t.beginPath(),b>=m&&(t.moveTo(T+h,E+u),t.lineTo(T,E),t.lineTo(T+c,E+f),t.closePath()),b<m&&(t.moveTo(T-h,E+u),t.lineTo(T,E),t.lineTo(T-c,E+f),t.closePath()),t.fill(),console.log("角度:"+180*d/Math.PI,"差值："+(m-p)),t.restore(),g=C>=m?Math.asin((M-x)/v()(M-x,C-m)):Math.PI-Math.asin((M-x)/v()(M-x,C-m));var L=y.prototype.lineLabelWidth,k=y.prototype.lineLabelHeight,A=v()(L,k)/2,N=void 0,F=void 0,W=Math.asin(k/2/A);t.save(),t.beginPath(),C>m?(N=I-A*Math.cos(g+W),F=D-A*Math.sin(g+W),t.translate(N,F),t.rotate(g)):(N=I+A*Math.cos(g+W),F=D+A*Math.sin(g+W),t.translate(N,F),t.rotate(g-Math.PI)),t.rect(0,0,L,k),t.fillStyle=y.prototype.lineLabelBg,t.fill(),t.fillStyle=y.prototype.lineLabelText,t.font=y.prototype.lineLabelTextFont+"px Arial",this.data.id==y.prototype.hoverElementId&&(t.fillStyle=y.prototype.lineHoverColor,t.font=y.prototype.lineLabelTextSelectFont+"px Arial"),this.data.id==y.prototype.SelectElementId&&(t.fillStyle=y.prototype.lineSelectColor,t.font=y.prototype.lineLabelTextSelectFont+"px Arial");var Y=y.prototype.lineTextMaxLength;t.textAlign="center",t.textBaseline="middle",this.data.rel.length>=Y&&(this.data.rel=this.data.rel.replace(this.data.rel.substring(Y),"...")),t.fillText(this.data.rel,L/2,k/2),t.closePath(),t.restore()},caculate:function(t){var e=this.data.endPoint.x,a=this.data.endPoint.y,o=this.data.beginPoint.x,i=this.data.beginPoint.y,n=t.offsetX-h.prototype.translateX,r=t.offsetY-h.prototype.translateY,s=v()(i-a,o-e),l=v()(r-a,n-e),p=v()(i-r,o-n),d=(s+l+p)/2,c=(o+e)/2,y=(i+a)/2,u=v()(Math.abs(e-o),Math.abs(a-i)),f=(a-i)/u,g=parseInt(y+60*((e-o)/u)),m=parseInt(c-60*f),x=void 0,b=void 0,P=void 0,C=void 0;if(e==o){if(x=Math.abs(n-e),b=Math.abs(r-i)/Math.abs(i-a),P=Math.pow(1-b,2)*o+2*b*(1-b)*m+Math.pow(b,2)*e,C=Math.pow(1-b,2)*i+2*b*(1-b)*g+Math.pow(b,2)*a,Math.abs(n-P)<=10)return!0}else if(a==i){if(x=Math.abs(r-a),b=Math.abs(n-o)/Math.abs(o-e),P=Math.pow(1-b,2)*o+2*b*(1-b)*m+Math.pow(b,2)*e,C=Math.pow(1-b,2)*i+2*b*(1-b)*g+Math.pow(b,2)*a,Math.abs(r-C)<=10)return!0}else if(n<o&&n>e||n<e&&n>o||r<i&&r>a||r<a&&r>i)return x=2*Math.sqrt(d*(d-s)*(d-l)*(d-p))/s,b=Math.sqrt(Math.pow(p,2)-Math.pow(x,2))/s,P=Math.pow(1-b,2)*o+2*b*(1-b)*m+Math.pow(b,2)*e,C=Math.pow(1-b,2)*i+2*b*(1-b)*g+Math.pow(b,2)*a,v()(n-P,r-C)<=10},onClick:function(t){y.prototype.SelectElementId=this.data.id},update:function(t,e){this.beginPoint=t,this.endPoint=e},living:function(){var t=Math.abs(this.data.beginPoint.x-this.data.endPoint.x),e=Math.abs(this.data.beginPoint.y-this.data.endPoint.y),a=v()(t,e),o=(this.data.beginPoint.x-this.data.endPoint.x)/a,i=(this.data.beginPoint.y-this.data.endPoint.y)/a,n=0,r=0;a>230&&(r=(a-230)*i*.2,(n=(a-230)*o*.2)>0&&n>30&&(n=30),n<0&&n<-30&&(n=-30),r>0&&r>30&&(r=30),r<0&&r<-30&&(r=-30)),a<130&&(n=(a-130)*o*.2,r=(a-130)*i*.2),this.data.beginPoint.isActive||(this.data.beginPoint.x-=n,this.data.beginPoint.y-=r),this.data.endPoint.isActive||(this.data.endPoint.x+=n,this.data.endPoint.y+=r)}};a("OMJi");function C(){}C.prototype={eleTypes:{circle:function(t){return new m(t)},rect:function(t){return new x(t)},line:function(t){return new b(t)},BezierLine:function(t){return new P(t)}},addElement:function(t){d.prototype.saveElement(C.prototype.eleTypes[t.eleType](t))},addLines:function(t){for(var e=[],a=0;a<t.length;a++)console.log(t[a]),console.log(t[a].type),e.push(C.prototype.eleTypes[t[a].eleType](t[a]));d.prototype.saveLines(e),console.log(d.prototype.elements)},addElements:function(t){for(var e=0;e<t.length;e++)C.prototype.addElement(t[e])}};var M=a("woOf"),_=a.n(M),T={getCircleDatas:function(t){for(var e=[],a=0;a<t.length;a++){var o={eleType:"circle"};o.x=Math.ceil(50+700*Math.random()),o.y=Math.ceil(50+700*Math.random()),o.width=0,o.height=0,t[a].name.length>5&&(t[a].name=t[a].name.substring(0,4)+"..."),o.name=t[a].name,_()(o,t[a]),e.push(o)}return e},addCircleDatas:function(t,e){for(var a=[],o=0;o<t.length;o++){var i={eleType:"circle"};i.x=e.x+Math.ceil(50*Math.random()),i.y=e.y+Math.ceil(50*Math.random()),i.width=0,i.height=0,t[o].name.length>5&&(t[o].name=t[o].name.substring(0,4)+"..."),i.name=t[o].name,_()(i,t[o]),a.push(i)}return a},getRectDatas:function(t){for(var e=[],a=0;a<t.length;a++){var o={eleType:"rect"};o.x=50+700*Math.random(),o.y=50+700*Math.random(),o.radius=20,o.width=50,o.height=30,_()(o,t[a]),e.push(o)}return e},getLineDatas:function(t,e){for(var a=[],o=0;o<e.length;o++){var i={};i.eleType=T.getLineType(e[o],e);var n=T.getTargetPoint(t,e[o].startNode),r=T.getTargetPoint(t,e[o].endNode);-1!=n&&-1!=r||alert("-1"),i.beginPoint=t[n],i.endPoint=t[r],i.rel=e[o].type,_()(i,e[o]),a.push(i)}return a},getTargetPoint:function(t,e){for(var a=0;a<t.length;a++)if(t[a].id===e)return a;return-1},getLineType:function(t,e){for(var a=0;a<e.length;a++)if(e[a].endNode==t.startNode&&e[a].startNode==t.endNode)return"BezierLine";return"line"},test:function(){alert("datas")}},E=T,S=(a("mtWM"),a("NYxO")),w=a("Dd8w"),I={name:"Graph",mixins:[{data:function(){return{}},computed:a.n(w)()({},Object(S.a)(["isGraph"])),beforeRouteEnter:function(t,e,a){a(function(t){t.isGraph||a({path:"/layout/model/default"})})}}],data:function(){return{nodes:[{id:5,name:"C语言",src:"c语言"},{id:12,name:"ios",src:"ios系统"},{id:6,name:"java",src:"java语言"},{id:7,name:"Android",src:"Android操作系统"},{id:8,name:"前端",src:"基于浏览器的前端"},{id:9,name:"vue",src:"vue框架"},{id:10,name:"react",src:"react框架"},{id:11,name:"JQuery",src:"Jquery是一个js库"}],relationships:[{id:214,startNode:5,endNode:12,type:"用到"},{id:202,startNode:11,endNode:8,type:"属于"},{id:234,startNode:10,endNode:8,type:"属于"},{id:236,startNode:9,endNode:8,type:"属于"},{id:421,startNode:6,endNode:5,type:"JNI调用"},{id:425,startNode:6,endNode:7,type:"语言"},{id:416,startNode:7,endNode:6,type:"产品"}],src:"",form:{},currentCircle:"",circleDatas:[],roleCtrl:"",canvas_container:{},info:{},canvas_parent:{},canvas:{},oldNodeId:""}},methods:{getNewDatas:function(t){var e=[];if(0==t.length)return e;for(var a=0;a<t.length;a++){for(var o=!0,i=0;i<d.prototype.elements.length;i++)if(t[a].id==d.prototype.elements[i].data.id){o=!1;break}o&&e.push(t[a])}return e.length,e},addCircleEles:function(t,e){var a=null;a=""!=this.currentCircle?E.addCircleDatas(t,this.currentCircle):E.getCircleDatas(t),d.prototype.addCircles(a),this.circleDatas=this.circleDatas.concat(a),C.prototype.addElements(a),this.addLines(e)},addLines:function(t){var e=E.getLineDatas(d.prototype.circleDatas,t);C.prototype.addLines(e)},backToStart:function(){this.roleCtrl.backToStart()},initHandlerListener:function(){var t=this;u.prototype.listen("loadNewData",function(e){t.currentCircle=e}),u.prototype.listen("showInfo",function(e){"circle"==e.eleType&&t.showProperties(e)}),u.prototype.listen("showDetails",function(e){0==e?d.prototype.info.style.display="none":(void 0!=e.src||"line"!=e.eleType&&"BezierLine"!=e.eleType?(t.src=e.src,d.prototype.info.style.position="absolute",d.prototype.info.style.left=parseInt(e.x)+t.roleCtrl.translateX+"px",d.prototype.info.style.top=y.prototype.CircleRadius+parseInt(e.y)+t.roleCtrl.translateY+"px",d.prototype.info.innerText=e.src):(t.src=e.type,d.prototype.info.style.position="absolute",d.prototype.info.style.left=parseInt((e.beginPoint.x+e.endPoint.x)/2)+t.roleCtrl.translateX+"px",d.prototype.info.style.top=parseInt((e.beginPoint.y+e.endPoint.y)/2)+t.roleCtrl.translateY+"px",d.prototype.info.innerText=e.type),d.prototype.info.style.display="block")}),u.prototype.listen("drag",function(e,a,o){t.roleCtrl.onDrag(e,a,o)})},initCanvas:function(){var t=this;this.$nextTick(function(){t.canvas.width=t.canvas_parent.offsetWidth,t.canvas.height=t.canvas_parent.offsetHeight}),document.oncontextmenu=new Function("event.returnValue=false;"),document.onselectstart=new Function("event.returnValue=false;"),this.roleCtrl=new h(this.canvas),window.addEventListener("resize",function(){t.canvas.width=t.canvas_parent.offsetWidth,t.canvas.height=t.canvas_parent.offsetHeight},!1),window.addEventListener("mouseup",function(t){return u.prototype.handleMouseUp(t)},!1),this.canvas.addEventListener("mousedown",function(t){return u.prototype.handleMouseDown(t)},!1),this.canvas.addEventListener("mousemove",function(t){return u.prototype.handleMouseMove(t)},!1)}},mounted:function(){this.canvas_container=document.querySelector(".canvas_container"),d.prototype.info=this.$refs.info,this.canvas_parent=document.querySelector(".canvas_parent"),this.canvas=document.querySelector(".canvas"),this.initCanvas(),this.initHandlerListener(),this.addCircleEles(this.nodes,this.relationships)},created:function(){}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"canvas_container",staticClass:"canvas_container"},[e("p",{ref:"info",staticClass:"info"},[this._v(this._s(this.src))]),this._v(" "),e("div",{ref:"canvas_parent",staticClass:"canvas_parent"},[e("span",{staticClass:"iconfont icon-fanhui backStart",on:{click:this.backToStart}}),this._v(" "),e("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:"800",height:"800"}})])])},staticRenderFns:[]};var L=a("VU/8")(I,D,!1,function(t){a("5HAy")},"data-v-b70b623e",null).exports;o.a.use(r.a);var k=new r.a({routes:[{path:"/",name:"graph",component:L}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:k,components:{App:n},template:"<App/>"})},Ugm9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5e4a5ddae1dea92d0042.js.map